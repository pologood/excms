!function(e){"object"==typeof module&&module.exports?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(p,g){"use strict";var t,l="validator",f="."+l,h=".field",o="nice-"+l,u="msg-box",d="aria-required",c="aria-invalid",m="data-rule",a="data-msg",v="data-tip",_="data-timely",y="data-target",b="novalidate",k=":verifiable",i=/(&)?(!)?\b(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?\s*(;|\|)?/g,w=/(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?/,n=/(?:([^:;\(\[]*):)?(.*)/,s=/[^\x00-\xff]/g,x=/top|right|bottom|left/,V=/(?:(cors|jsonp):)?(?:(post|get):)?(.+)/i,r=/[<>'"`\\]|&#x?\d+[A-F]?;?|%3[A-F]/gim,M=p.noop,O=p.proxy,$=p.trim,F=p.isFunction,E=function(e){return"string"==typeof e},C=function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},A=document.documentMode||+(navigator.userAgent.match(/MSIE (\d+)/)&&RegExp.$1),T=function(e,t,i){return e&&e.tagName?i===g?e.getAttribute(t):void(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):null},j={},N={debug:0,theme:"default",ignore:"",focusInvalid:!0,focusCleanup:!1,stopOnError:!1,beforeSubmit:null,valid:null,invalid:null,validation:null,formClass:"n-default",validClass:"n-valid",invalidClass:"n-invalid",bindClassTo:null},S={timely:1,display:null,target:null,ignoreBlank:!1,showOk:!0,dataFilter:function(e){if(E(e)||C(e)&&("error"in e||"ok"in e))return e},msgMaker:function(i){var n;return n='<span role="alert" class="msg-wrap n-'+i.type+'">'+i.arrow,i.result?p.each(i.result,function(e,t){n+='<span class="n-'+t.type+'">'+i.icon+'<span class="n-msg">'+t.msg+"</span></span>"}):n+=i.icon+'<span class="n-msg">'+i.msg+"</span>",n+="</span>"},msgWrapper:"span",msgArrow:"",msgIcon:'<span class="n-icon"></span>',msgClass:"n-right",msgStyle:"",msgShow:null,msgHide:null},R={};function q(e,t){var i=this;if(!(i instanceof q))return new q(e,t);function n(){i._init(i.$el[0],t,!!arguments[0])}i.$el=p(e),i.$el.length?(n(),q.pending&&p(window).on("validatorready",n)):E(e)&&(j[e]=t)}function D(e,t){if(C(e)){var i,n=t?!0===t?this:t:D.prototype;for(i in e)W(i)&&(n[i]=H(e[i]))}}function I(e,t){if(C(e)){var i,n=t?!0===t?this:t:I.prototype;for(i in e)n[i]=e[i]}}function H(e){switch(p.type(e)){case"function":return e;case"array":var t=function(){return e[0].test(this.value)||e[1]||!1};return t.msg=e[1],t;case"regexp":return function(){return e.test(this.value)}}}function L(e){var t,i,n;if(e&&e.tagName){switch(e.tagName){case"INPUT":case"SELECT":case"TEXTAREA":case"BUTTON":case"FIELDSET":t=e.form||p(e).closest("."+o);break;case"FORM":t=e;break;default:t=p(e).closest("."+o)}for(i in j)if(p(t).is(i)){n=j[i];break}return p(t).data(l)||p(t)[l](n).data(l)}}function B(e,t,i){var n=t.msg,s=t._r;return C(n)&&(n=n[s]),E(n)||(n=T(e,a+"-"+s)||T(e,a)||(i?E(i)?i:i[s]:"")),n}function P(e){return"INPUT"===e.tagName&&"checkbox"===e.type||"radio"===e.type}function U(e){return Date.parse(e.replace(/\.|\-/g,"/"))}function W(e){return/^\w+$/.test(e)}function J(e){var t="#"===e.charAt(0);return e=e.replace(/([:.{(|)}/\[\]])/g,"\\$1"),t?e:'[name="'+e+'"]:first'}return p.fn.validator=function(t){var e=this,i=arguments;return e.is(k)?e:(e.is("form")||(e=this.find("form")),e.length||(e=this),e.each(function(){var e=p(this).data(l);if(e)if(E(t)){if("_"===t.charAt(0))return;e[t].apply(e,[].slice.call(i,1))}else t&&(e._reset(!0),e._init(this,t));else new q(this,t)}),this)},p.fn.isValid=function(t,e){var i,n,s=L(this[0]),a=F(t);return!s||(a||e!==g||(e=t),s.checkOnly=!!e,n=s.options,i=s._multiValidate(this.is(k)?this:this.find(k),function(e){e||!n.focusInvalid||s.checkOnly||s.$el.find("["+c+"]:first").focus(),a&&(t.length?t(e):e&&t()),s.checkOnly=!1}),a?this:i)},p.expr.pseudos.verifiable=function(e){var t=e.nodeName.toLowerCase();return("input"===t&&!{submit:1,button:1,reset:1,image:1}[e.type]||"select"===t||"textarea"===t||"true"===e.contentEditable)&&!e.disabled},p.expr.pseudos.filled=function(e){return!!$(p(e).val())},q.prototype={_init:function(e,t,i){var n,s,a,r=this;F(t)&&(t={valid:t}),t=r._opt=t||{},a=T(e,"data-"+l+"-option"),a=r._dataOpt=a&&"{"===a.charAt(0)?new Function("return "+a)():{},s=r._themeOpt=R[t.theme||a.theme||N.theme],n=r.options=p.extend({},N,S,s,r.options,t,a),i||(r.rules=new D(n.rules,!0),r.messages=new I(n.messages,!0),r.Field=function(n){function e(){var e=this.options;for(var t in e)t in S&&(this[t]=e[t]);p.extend(this,{_valHook:function(){return"true"===this.element.contentEditable?"text":"val"},getValue:function(){var e=this.element;return"number"===e.type&&e.validity&&e.validity.badInput?"NaN":p(e)[this._valHook()]()},setValue:function(e){p(this.element)[this._valHook()](this.value=e)},getRangeMsg:function(e,t,i){if(t){var n,s=this,a=s.messages[s._r]||"",r=t[0].split("~"),l="false"===t[1],o=r[0],u=r[1],d="rg",c=[""],f=$(e)&&+e==+e;return 2===r.length?o&&u?(f&&g(e,+o)&&g(+u,e)&&(n=!0),c=c.concat(r),d=l?"gtlt":"rg"):o&&!u?(f&&g(e,+o)&&(n=!0),c.push(o),d=l?"gt":"gte"):!o&&u&&(f&&g(+u,e)&&(n=!0),c.push(u),d=l?"lt":"lte"):(e===+o&&(n=!0),c.push(o),d="eq"),a&&(i&&a[d+i]&&(d+=i),c[0]=a[d]),n||s._rules&&(s._rules[s._i].msg=s.renderMsg.apply(null,c))}function g(e,t){return l?t<e:t<=e}},renderMsg:function(){var e=arguments,t=e[0],i=e.length;if(t){for(;--i;)t=t.replace("{"+i+"}",e[i]);return t}}})}function t(e,t,i){this.key=e,this.validator=n,p.extend(this,i,t)}return e.prototype=n,t.prototype=new e,t}(r),r.elements=r.elements||{},r.deferred={},r.errors={},r.fields={},r._initFields(n.fields)),r.$el.data(l)||(r.$el.data(l,r).addClass(o+" "+n.formClass).on("form-submit-validate",function(e,t,i,n,s){r.vetoed=s.veto=!r.isValid,r.ajaxFormOptions=n}).on("submit"+f+" validate"+f,O(r,"_submit")).on("reset"+f,O(r,"_reset")).on("showmsg"+f,O(r,"_showmsg")).on("hidemsg"+f,O(r,"_hidemsg")).on("focusin"+f+" click"+f,k,O(r,"_focusin")).on("focusout"+f+" validate"+f,k,O(r,"_focusout")).on("keyup"+f+" input"+f+" compositionstart compositionend",k,O(r,"_focusout")).on("click"+f,":radio,:checkbox","click",O(r,"_focusout")).on("change"+f,'select,input[type="file"]',"change",O(r,"_focusout")),r._NOVALIDATE=T(e,b),T(e,b,b)),E(n.target)&&r.$el.find(n.target).addClass("msg-container")},_guessAjax:function(e){if(!(this.isAjaxSubmit=!!this.options.valid)){var t=(p._data||p.data)(e,"events");this.isAjaxSubmit=i(t,"valid","form")||i(t,"submit","form-plugin")}function i(e,t,i){return!!(e&&e[t]&&p.map(e[t],function(e){return~e.namespace.indexOf(i)?1:null}).length)}},_initFields:function(e){var t,i,n,s=this,a=null===e;if(a&&(e=s.fields),C(e))for(t in e)if(~t.indexOf(","))for(n=(i=t.split(",")).length;n--;)r($(i[n]),e[t]);else r(t,e[t]);function r(e,t){if(null===t||a){var i=s.elements[e];i&&s._resetElement(i,!0),delete s.fields[e]}else s.fields[e]=new s.Field(e,E(t)?{rule:t}:t,s.fields[e])}s.$el.find(k).each(function(){s._parse(this)})},_parse:function(e){var t,i,n,s=this,a=e.name,r=T(e,m);if(r&&T(e,m,null),e.id&&("#"+e.id in s.fields||!a||null!==r&&(t=s.fields[a])&&r!==t.rule&&e.id!==t.key)&&(a="#"+e.id),a)return(t=s.getField(a,!0)).rule=r||t.rule,(i=T(e,"data-display"))&&(t.display=i),t.rule&&((null!==T(e,"data-must")||/\b(?:match|checked)\b/.test(t.rule))&&(t.must=!0),/\brequired\b/.test(t.rule)&&(t.required=!0,T(e,d,!0)),(n=T(e,_))?t.timely=+n:3<t.timely&&T(e,_,t.timely),s._parseRule(t),t.old={}),E(t.target)&&T(e,y,t.target),E(t.tip)&&T(e,v,t.tip),s.fields[a]=t},_parseRule:function(t){var e=n.exec(t.rule);e&&(t._i=0,e[1]&&(t.display=e[1]),e[2]&&(t._rules=[],e[2].replace(i,function(){var e=arguments;e[4]=e[4]||e[5],t._rules.push({and:"&"===e[1],not:"!"===e[2],or:"|"===e[6],method:e[3],params:e[4]?p.map(e[4].split(", "),$):g})})))},_multiValidate:function(e,t){var i=this,n=i.options;return i.hasError=!1,n.ignore&&(e=e.not(n.ignore)),e.each(function(){if(i._validate(this),i.hasError&&n.stopOnError)return!1}),t&&(i.validating=!0,p.when.apply(null,p.map(i.deferred,function(e){return e})).done(function(){t.call(i,!i.hasError),i.validating=!1})),p.isEmptyObject(i.deferred)?!i.hasError:g},_submit:function(e){var n=this,s=n.options,a=e.target,r="submit"===e.type&&!e.isDefaultPrevented();e.preventDefault(),t&&~(t=!1)||n.submiting||"validate"===e.type&&n.$el[0]!==a||F(s.beforeSubmit)&&!1===s.beforeSubmit.call(n,a)||(n.isAjaxSubmit===g&&n._guessAjax(a),n._debug("log","\n<<< event: "+e.type),n._reset(),n.submiting=!0,n._multiValidate(n.$el.find(k),function(e){var t,i=e||2===s.debug?"valid":"invalid";e||(s.focusInvalid&&n.$el.find("["+c+"]:first").focus(),t=p.map(n.errors,function(e){return e})),n.submiting=!1,n.isValid=e,F(s[i])&&s[i].call(n,a,t),n.$el.trigger(i+".form",[a,t]),n._debug("log",">>> "+i),e&&(n.vetoed?p(a).ajaxSubmit(n.ajaxFormOptions):r&&!n.isAjaxSubmit&&document.createElement("form").submit.call(a))}))},_reset:function(e){var t=this;t.errors={},e&&(t.reseting=!0,t.$el.find(k).each(function(){t._resetElement(this)}),delete t.reseting)},_resetElement:function(e,t){this._setClass(e,null),this.hideMsg(e),t&&T(e,d,null)},_focusin:function(e){var t,i,n=this,s=n.options,a=e.target;n.validating||"click"===e.type&&document.activeElement===a||(s.focusCleanup&&"true"===T(a,c)&&(n._setClass(a,null),n.hideMsg(a)),(i=T(a,v))?n.showMsg(a,{type:"tip",msg:i}):(T(a,m)&&n._parse(a),(t=T(a,_))&&(8!==t&&9!==t||n._focusout(e))))},_focusout:function(e){var t,i,n,s,a,r,l,o,u=this,d=u.options,c=e.target,f=e.type,g="focusin"===f,h="validate"===f,m=0;if("compositionstart"===f&&(u.pauseValidate=!0),"compositionend"===f&&(u.pauseValidate=!1),!u.pauseValidate&&(i=c.name&&P(c)?u.$el.find('input[name="'+c.name+'"]').get(0):c,n=u.getField(i))){if(t=n._e,n._e=f,o=n.timely,!h){if(!o||P(c)&&"click"!==f)return;if(a=n.getValue(),n.ignoreBlank&&!a&&!g)return void u.hideMsg(c);if("focusout"===f){if("change"===t)return;if(2===o||8===o){if(!a)return;s=n.old,n.isValid&&!s.showOk?u.hideMsg(c):u._makeMsg(c,n,s)}}else{if(o<2&&!e.data)return;if((r=+new Date)-(c._ts||0)<100)return;if(c._ts=r,"keyup"===f){if("input"===t)return;if(9===(l=e.keyCode)&&!a)return;if(l<48&&!{8:1,9:1,16:1,32:1,46:1}[l])return}g||(m=o<100?"click"===f||"SELECT"===c.tagName?0:400:o)}}d.ignore&&p(c).is(d.ignore)||(clearTimeout(n._t),m?n._t=setTimeout(function(){u._validate(c,n)},m):(h&&(n.old={}),u._validate(c,n)))}},_setClass:function(e,t){var i=p(e),n=this.options;n.bindClassTo&&(i=i.closest(n.bindClassTo)),i.removeClass(n.invalidClass+" "+n.validClass),null!==t&&i.addClass(t?n.validClass:n.invalidClass)},_showmsg:function(e,t,i){var n=this,s=e.target;n.$el.is(s)?C(t)?n.showMsg(t):"tip"===t&&n.$el.find(k+"["+v+"]",s).each(function(){n.showMsg(this,{type:t,msg:i})}):n.showMsg(s,{type:t,msg:i})},_hidemsg:function(e){var t=p(e.target);t.is(k)&&this.hideMsg(t)},_validatedField:function(e,t,i){var n=this,s=n.options,a=t.isValid=i.isValid=!!i.isValid,r=a?"valid":"invalid";i.key=t.key,i.ruleName=t._r,i.id=e.id,i.value=t.value,n.elements[t.key]=i.element=e,n.isValid=n.$el[0].isValid=a?n.isFormValid():a,a?i.type="ok":(n.submiting&&(n.errors[t.key]=i.msg),n.hasError=!0),t.old=i,F(t[r])&&t[r].call(n,e,i),F(s.validation)&&s.validation.call(n,e,i),p(e).attr(c,!a||null).trigger(r+h,[i,n]),n.$el.triggerHandler("validation",[i,n]),n.checkOnly||(n._setClass(e,i.skip||"tip"===i.type?null:a),n._makeMsg.apply(n,arguments))},_makeMsg:function(e,t,i){t.msgMaker&&(i=p.extend({},i),"focusin"===t._e&&(i.type="tip"),this[i.showOk||i.msg||"tip"===i.type?"showMsg":"hideMsg"](e,i,t))},_validatedRule:function(i,n,e,t){n=n||o.getField(i),t=t||{};var s,a,r,l,o=this,u=n._r,d=n.timely,c=9===d||8===d,f=!1;if(null===e)return o._validatedField(i,n,{isValid:!0,skip:!0}),void(n._i=0);if(e===g?r=!0:!0===e||""===e?f=!0:E(e)?s=e:C(e)&&(e.error?s=e.error:(s=e.ok,f=!0)),(a=n._rules[n._i]).not&&(s=g,f="required"===u||!f),a.or)if(f)for(;n._i<n._rules.length&&n._rules[n._i].or;)n._i++;else r=!0;else a.and&&(n.isValid||(r=!0));r?f=!0:(f&&!1!==n.showOk&&(s=null===(l=T(i,"data-ok"))?E(n.ok)?n.ok:s:l,!E(s)&&E(n.showOk)&&(s=n.showOk),E(s)&&(t.showOk=f)),f&&!c||(s=(B(i,n,s||a.msg||o.messages[u])||o.messages.fallback).replace(/\{0\|?([^\}]*)\}/,function(e,t){return o._getDisplay(i,n.display)||t||o.messages[0]})),f||(n.isValid=f),t.msg=s,p(i).trigger((f?"valid":"invalid")+".rule",[u,s])),!c||r&&!a.and||(f||n._m||(n._m=s),n._v=n._v||[],n._v.push({type:f?r?"tip":"ok":"error",msg:s||a.msg})),o._debug("log","   "+n._i+": "+u+" => "+(f||s)),(f||c)&&n._i<n._rules.length-1?(n._i++,o._checkRule(i,n)):(n._i=0,c?(t.isValid=n.isValid,t.result=n._v,t.msg=n._m||"",n.value||"focusin"!==n._e||(t.type="tip")):t.isValid=f,o._validatedField(i,n,t),delete n._m,delete n._v)},_checkRule:function(r,l){var e,t,i,o=this,n=l.key,u=l._rules[l._i],s=u.method,a=u.params;o.submiting&&o.deferred[n]||(i=l.old,l._r=s,i&&!l.must&&!u.must&&u.result!==g&&i.ruleName===s&&i.id===r.id&&l.value&&i.value===l.value?e=u.result:(e=(t=function(e,t){var i=$(T(e,m+"-"+t));if(i&&(i=new Function("return "+i)()))return H(i)}(r,s)||o.rules[s]||M).call(l,r,a,l),t.msg&&(u.msg=t.msg)),C(e)&&F(e.then)?(o.deferred[n]=e,l.isValid=g,!o.checkOnly&&o.showMsg(r,{type:"loading",msg:o.messages.loading},l),e.then(function(e,t,i){var n,s=$(i.responseText),a=l.dataFilter;/jsonp?/.test(this.dataType)?s=e:"{"===s.charAt(0)&&(s=p.parseJSON(s)),(n=a.call(this,s,l))===g&&(n=a.call(this,s.data,l)),u.data=this.data,u.result=l.old?n:g,o._validatedRule(r,l,n)},function(e,t){o._validatedRule(r,l,o.messages[t]||t)}).always(function(){delete o.deferred[n]})):o._validatedRule(r,l,e))},_validate:function(e,t){var i=this;if(!e.disabled&&null===T(e,b)&&(t=t||i.getField(e))&&(t._rules||i._parse(e),t._rules))return i._debug("info",t.key),t.isValid=!0,t.element=e,t.value=t.getValue(),t.required||t.must||t.value||P(e)?(i._checkRule(e,t),t.isValid):(i._validatedField(e,t,{isValid:!0}),!0)},_debug:function(e,t){window.console&&this.options.debug&&console[e](t)},test:function(e,t){var i,n,s,a,r=w.exec(t);return r&&(s=r[1])in this.rules&&(a=(a=r[2]||r[3])?a.split(", "):g,(n=this.getField(e,!0))._r=s,n.value=n.getValue(),i=this.rules[s].call(n,e,a)),!0===i||i===g||null===i},_getDisplay:function(e,t){return E(t)?t:F(t)?t.call(this,e):""},_getMsgOpt:function(e,t){var i=t||this.options;return p.extend({type:"error",pos:function(e){var t;e&&(t=x.exec(e));return t&&t[0]}(i.msgClass),target:i.target,wrapper:i.msgWrapper,style:i.msgStyle,cls:i.msgClass,arrow:i.msgArrow,icon:i.msgIcon},E(e)?{msg:e}:e)},_getMsgDOM:function(e,t){var i,n,s,a,r=p(e);if(r.is(k)?((s=t.target||T(e,y))&&(s=F(s)?s.call(this,e):this.$el.find(s)).length&&(s.is(k)?e=s.get(0):s.hasClass(u)?i=s:a=s),i||(n=P(e)&&e.name||!e.id?e.name:e.id,i=this.$el.find(t.wrapper+"."+u+'[for="'+n+'"]'))):i=r,!t.hide&&!i.length)if(r=this.$el.find(s||e),i=p("<"+t.wrapper+">").attr({class:u+(t.cls?" "+t.cls:""),style:t.style||g,for:n}),P(e)){var l=r.parent();i.appendTo(l.is("label")?l.parent():l)}else a?i.appendTo(a):i[t.pos&&"right"!==t.pos?"insertBefore":"insertAfter"](r);return i},showMsg:function(e,t,i){if(e){var n,s,a,r,l=this,o=l.options;!C(e)||e.jquery||t?(p(e).is(k)&&(i=i||l.getField(e)),(s=(i||o).msgMaker)&&(t=l._getMsgOpt(t,i),e=p(e).get(0),t.msg||"error"===t.type||null!==(a=T(e,"data-"+t.type))&&(t.msg=a),E(t.msg)&&(r=l._getMsgDOM(e,t),!x.test(r[0].className)&&r.addClass(t.cls),6===A&&"bottom"===t.pos&&(r[0].style.marginTop=p(e).outerHeight()+"px"),r.html(s.call(l,t))[0].style.display="",F(n=i&&i.msgShow||o.msgShow)&&n.call(l,r,t.type)))):p.each(e,function(e,t){var i=l.elements[e]||l.$el.find(J(e))[0];l.showMsg(i,t)})}},hideMsg:function(e,t,i){var n,s,a=this,r=a.options;e=p(e).get(0),p(e).is(k)&&(i=i||a.getField(e))&&(i.isValid||a.reseting)&&T(e,c,null),(t=a._getMsgOpt(t,i)).hide=!0,(s=a._getMsgDOM(e,t)).length&&(F(n=i&&i.msgHide||r.msgHide)?n.call(a,s,t.type):(s[0].style.display="none",s[0].innerHTML=null))},getField:function(e,t){var i,n;if(E(e))i=e,e=g;else{if(T(e,m))return this._parse(e);i=e.id&&"#"+e.id in this.fields||!e.name?"#"+e.id:e.name}return((n=this.fields[i])||t&&(n=new this.Field(i)))&&(n.element=e),n},setField:function(e,t){var i={};e&&(E(e)?i[e]=t:i=e,this._initFields(i))},isFormValid:function(){var e,t,i=this.fields;for(e in i)if((t=i[e])._rules&&(t.required||t.must||t.value)&&!t.isValid)return!1;return!0},holdSubmit:function(e){this.submiting=e===g||e},cleanUp:function(){this._reset(1)},destroy:function(){this._reset(1),this.$el.off(f).removeData(l),T(this.$el[0],b,this._NOVALIDATE)}},p(window).on("beforeunload",function(){this.focus()}),p(document).on("click",":submit",function(){var e;this.form&&((e=this.getAttributeNode("formnovalidate"))&&null!==e.nodeValue||null!==T(this,b))&&(t=!0)}).on("focusin submit validate","form,."+o,function(e){if(null===T(this,b)){var t,i=p(this);!i.data(l)&&(t=L(this))&&(p.isEmptyObject(t.fields)?(T(this,b,b),i.off(f).removeData(l)):"focusin"===e.type?t._focusin(e):t._submit(e))}}),new I({fallback:"This field is not valid.",loading:"Validating..."}),new D({required:function(e,t){var i=this,n=$(i.value),s=!0;if(t)if(1===t.length){if(W(t[0])){if(i.rules[t[0]]){if(!n&&!i.test(e,t[0]))return T(e,d,null),null;T(e,d,!0)}}else if(!n&&!p(t[0],i.$el).length)return null}else if("not"===t[0])p.each(t.slice(1),function(){return s=n!==$(this)});else if("from"===t[0]){var a,r=i.$el.find(t[1]),l="_validated_";return(s=r.filter(function(){var e=i.getField(this);return e&&!!$(e.getValue())}).length>=(t[2]||1))?n||(a=null):a=B(r[0],i)||!1,p(e).data(l)||r.data(l,1).each(function(){e!==this&&i._validate(this)}).removeData(l),a}return s&&!!n},integer:function(e,t){var i,n="[1-9]\\d*",s=t?t[0]:"*";switch(s){case"+":i=n;break;case"-":i="-"+n;break;case"+0":i="0|"+n;break;case"-0":i="0|-"+n;break;default:i="0|-?"+n}return i="^(?:"+i+")$",new RegExp(i).test(this.value)||this.messages.integer[s]},match:function(e,t){if(t){var i,n,s,a,r,l,o,u,d=this,c="eq";if(1===t.length?s=t[0]:(c=t[0],s=t[1]),l=J(s),o=d.$el.find(l)[0]){if(u=d.getField(o),i=d.value,n=u.getValue(),d._match||(d.$el.on("valid"+h+f,l,function(){p(e).trigger("validate")}),d._match=u._match=1),!d.required&&""===i&&""===n)return null;if((r=t[2])&&(/^date(time)?$/i.test(r)?(i=U(i),n=U(n)):"time"===r&&(i=+i.replace(/:/g,""),n=+n.replace(/:/g,""))),"eq"!==c&&!isNaN(+i)&&isNaN(+n))return!0;switch(a=d.messages.match[c].replace("{1}",d._getDisplay(e,u.display||s)),c){case"lt":return+i<+n||a;case"lte":return+i<=+n||a;case"gte":return+n<=+i||a;case"gt":return+n<+i||a;case"neq":return i!==n||a;default:return i===n||a}}}},range:function(e,t){return this.getRangeMsg(this.value,t)},checked:function(e,t){if(P(e)){var i,n;return n=e.name?this.$el.find('input[name="'+e.name+'"]').filter(function(){return!i&&P(this)&&(i=this),!this.disabled&&this.checked}).length:(i=e).checked,t?this.getRangeMsg(n,t):!!n||B(i,this,"")||this.messages.required}},length:function(e,t){var i=this.value,n=("true"===t[1]?i.replace(s,"xx"):i).length;return this.getRangeMsg(n,t,t[1]?"_2":"")},remote:function(e,t){if(t){var i,n=this,s=V.exec(t[0]),a=n._rules[n._i],r={},l="",o=s[3],u=s[2]||"POST",d=(s[1]||"").toLowerCase();return a.must=!0,r[e.name]=n.value,t[1]&&p.map(t.slice(1),function(e){var t,i;~e.indexOf("=")?l+="&"+e:(t=e.split(":"),e=$(t[0]),i=$(t[1])||e,r[e]=n.$el.find(J(i)).val())}),r=p.param(r)+l,!n.must&&a.data&&a.data===r?a.result:("cors"!==d&&/^https?:/.test(o)&&!~o.indexOf(location.host)&&(i="jsonp"),p.ajax({url:o,type:u,data:r,dataType:i}))}},filter:function(e,t){var i=this.value,n=i.replace(t?new RegExp("["+t[0]+"]","gm"):r,"");n!==i&&this.setValue(n)}}),q.config=function(e,t){function i(e,t){"rules"===e?new D(t):"messages"===e?new I(t):e in S?S[e]=t:N[e]=t}C(e)?p.each(e,i):E(e)&&i(e,t)},q.setTheme=function(e,t){C(e)?p.extend(!0,R,e):E(e)&&C(t)&&(R[e]=p.extend(R[e],t))},q.load=function(e){if(e){var t,i,n,s=document,a={},r=s.scripts[0];e.replace(/([^?=&]+)=([^&#]*)/g,function(e,t,i){a[t]=i}),t=a.dir||q.dir,q.css||""===a.css||((i=s.createElement("link")).rel="stylesheet",i.href=q.css=t+"validator.min.css",r.parentNode.insertBefore(i,r)),!q.local&&~e.indexOf("local")&&""!==a.local&&(q.local=(a.local||s.documentElement.lang||"en").replace("_","-"),q.pending=1,(i=s.createElement("script")).src=t+"local/"+q.local+".min.js",i[n="onload"in i?"onload":"onreadystatechange"]=function(){i.readyState&&!/loaded|complete/.test(i.readyState)||(i=i[n]=null,delete q.pending,p(window).triggerHandler("validatorready"))},r.parentNode.insertBefore(i,r))}},p[l]=q});