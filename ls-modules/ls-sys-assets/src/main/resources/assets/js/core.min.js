if("undefined"==typeof jQuery)throw new Error("core requires jQuery");!function(y,u){var l=u.document,n=u.localStorage,e=(l.body,l.documentMode,l.compatMode,navigator.userAgent.toLowerCase(),navigator.language||navigator.browserLanguage,/^https/i.test(u.location.protocol),Object.prototype),t=e.toString,o=(e.hasOwnProperty,Array.prototype),p=o.slice,r=(o.push,u.location.href,{}),f={};function s(){window.console?Function.apply.call(console.log,console,arguments):(window.console={},console.log=function(t){y(l).ready(function(){var e=l.createElement("pre");e.className="mass_sys_log",e.innerHTML=t+"",l.body.appendChild(e)})})}"Boolean Number String Function Array Date RegExp Object Error".replace(/[^, ]+/g,function(e){r["[object "+e+"]"]=e.toLowerCase()}),function(e){var i=function(e,t){return"string"==typeof t?u(t,{filename:e}):n(e,t)};i.version="3.0.0",i.config=function(e,t){r[e]=t};var r=i.defaults={openTag:"<?",closeTag:"?>",escape:!0,cache:!0,compress:!1,parser:null},s=i.cache={};i.render=function(e,t){return u(e,t)};var n=i.renderFile=function(e,t){var n=i.get(e)||c({filename:e,name:"Render Error",message:"Template not found"});return t?n(t):n};i.get=function(e){var t;if(s[e])t=s[e];else if("object"==typeof document){var n=document.getElementById(e);if(n){var i=(n.value||n.innerHTML).replace(/^\s*|\s*$/g,"");t=u(i,{filename:e})}}return t};var a=function(e,t){return"string"!=typeof e&&("number"===(t=typeof e)?e+="":e="function"===t?a(e.call(e)):""),e},t={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},o=function(e){return t[e]},l=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},x=i.utils={$helpers:{},$include:n,$string:a,$escape:function(e){return a(e).replace(/&(?![\w#]+;)|[<>"']/g,o)},$each:function(e,t){var n,i;if(l(e))for(n=0,i=e.length;n<i;n++)t.call(e,e[n],n,e);else for(n in e)t.call(e,e[n],n)}};i.helper=function(e,t){T[e]=t};var T=i.helpers=x.$helpers;i.onerror=function(e){var t="Template Error\n\n";for(var n in e)t+="<"+n+">\n"+e[n]+"\n\n";"object"==typeof console&&console.error(t)};var c=function(e){return i.onerror(e),function(){return"{Template Error}"}},u=i.compile=function(n,i){for(var e in i=i||{},r)void 0===i[e]&&(i[e]=r[e]);var a=i.filename;try{var o=function(e,o){var r=o.debug,t=o.openTag,i=o.closeTag,s=o.parser,n=o.compress,l=o.escape,c=1,u={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},a="".trim,d=a?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],p=a?"$out+=text;return $out;":"$out.push(text);",f="function(){var text=''.concat.apply('',arguments);"+p+"}",h="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+p+"}",g="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(r?"$line=0,":""),m=d[0],v="return new String("+d[3]+");";S(e.split(t),function(e){var t=(e=e.split(i))[0],n=e[1];1===e.length?m+=b(t):(m+=function(e){var t=c;s?e=s(e,o):r&&(e=e.replace(/\n/g,function(){return"$line="+ ++c+";"}));if(0===e.indexOf("=")){var n=l&&!/^=[=#]/.test(e);if(e=e.replace(/^=[=#]?|[\s;]*$/g,""),n){var i=e.replace(/\s*\([^\)]+\)/,"");x[i]||/^(include|print)$/.test(i)||(e="$escape("+e+")")}else e="$string("+e+")";e=d[1]+e+d[2]}r&&(e="$line="+t+";"+e);return S((a=e,a.replace(L,"").replace(I,",").replace(C,"").replace(k,"").replace(E,"").split(_)),function(e){var t;e&&!u[e]&&(t="print"===e?f:"include"===e?h:x[e]?"$utils."+e:T[e]?"$helpers."+e:"$data."+e,g+=e+"="+t+",",u[e]=!0)}),e+"\n";var a}(t),n&&(m+=b(n)))});var y=g+m+v;r&&(y="try{"+y+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+O(e)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var w=new Function("$data","$filename",y);return w.prototype=x,w}catch(e){throw e.temp="function anonymous($data,$filename) {"+y+"}",e}function b(e){return c+=e.split(/\n/).length-1,n&&(e=e.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),e&&(e=d[1]+O(e)+d[2]+"\n"),e}}(n,i)}catch(e){return e.filename=a||"anonymous",e.name="Syntax Error",c(e)}function t(t){try{return new o(t,a)+""}catch(e){return i.debug?c(e)():(i.debug=!0,u(n,i)(t))}}return t.prototype=o.prototype,t.toString=function(){return o.toString()},a&&i.cache&&(s[a]=t),t},S=x.$each,L=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,I=/[^\w$]+/g,C=new RegExp(["\\b"+"break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined".replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),k=/^\d[^,]*|,\d[^,]*/g,E=/^,+|,+$/g,_=/^$|,+/;function O(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}e.template=i}(u);var d,h,g,m,v,w,b=function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?r[t.call(e)]||"object":typeof e},x=new function(){var e=function(){};return e.prototype={doTimeout:function(){return function(e){var t,n=this,i={},a=e?y.fn:y,o=arguments,r=4,s=o[1],l=o[2],c=o[3];function u(){e?t.removeData(e):s&&delete f[s]}function d(){i.id=setTimeout(function(){i.fn()},l)}if("string"!=typeof s&&(r--,s=e=0,l=o[1],c=o[2]),e?(t=n.eq(0)).data(e,i=t.data(e)||{}):s&&(i=f[s]||(f[s]={})),i.id&&clearTimeout(i.id),delete i.id,c)i.fn=function(e){"string"==typeof c&&(c=a[c]),!0!==c.apply(n,p.call(o,r))||e?u():d()},d();else{if(i.fn)return void 0===l?u():i.fn(!1===l),!0;u()}}.apply(u,[0].concat(p.call(arguments)))},center:function(){var e=this.el,t=y(u).height(),n=y(u).width(),i=e.outerWidth(!0),a=e.outerHeight(!0),o="fixed"===e.css("position"),r=o?0:y(document).scrollTop(),s=o?0:y(document).scrollLeft(),l=382*(t-a)/1e3+r,c=(n-i)/2+s;return e.css({width:i,height:a,top:Math.max(parseInt(l),r)+"px",left:Math.max(parseInt(c),s)+"px"}),e},clientXY:function(e){var t,n,i,a;return t=y(u).width()-e.clientX<this.outerWidth()?e.clientX-this.outerWidth():e.clientX,n=y(u).height()-e.clientY<this.outerHeight()?e.clientY-this.outerHeight():e.clientY,i=y(document).scrollTop(),a=y(document).scrollLeft(),this.css({left:t+a,top:n+i}).show(),this}},e},T=new function(e,t){var n,i,a,o,r,s,l,c={};return e=(e||navigator.userAgent).toLowerCase(),t=t||navigator.language||navigator.browserLanguage,n=(a=/\sedge\//.test(e))?(e.match(/(?:edge\/)([\d\.]*)/)||[])[1]:(e.match(/.*(?:rv|chrome|webkit|opera|ie)[\/: ](.+?)([ \);]|$)/)||[])[1],c.version=n,i=(e.match(/webkit\/(.+?) /)||[])[1],r=(o=e.split(/\s*[;)(]\s*/)||[])[1],iOSDeviceVersion=o[2].match(/(\w{1,})_(\w{1,})/i),s=iOSDeviceVersion?iOSDeviceVersion[1]:null,l=iOSDeviceVersion?iOSDeviceVersion[2]:null,c.windows=c.isWindows=!!/windows/.test(e),c.mac=c.isMac=!!/macintosh/.test(e)||/mac os x/.test(e)&&!/like mac os x/.test(e),c.lion=c.isLion=!(!/mac os x 10[_\.][7-9]/.test(e)||/like mac os x 10[_\.][7-9]/.test(e)),c.iPhone=c.isiPhone="iphone"===r,c.iPod=c.isiPod=-1<r.indexOf("ipod"),c.iPad=c.isiPad="ipad"===r,c.iOS=c.isiOS=c.iPhone||c.iPod||c.iPad,c.iOSMajorVersion=c.iOS?1*s:void 0,c.iOSMinorVersion=c.iOS?1*l:void 0,c.android=c.isAndroid=!!/android/.test(e),c.silk=c.isSilk=!!/silk/.test(e),c.opera=/opera/.test(e)?n:0,c.isOpera=!!c.opera,c.msie=/msie \d+\.\d+|trident\/\d+\.\d.*; rv:\d+\.\d+[;\)]/.test(e)&&!c.opera?n:0,c.isIE=!!c.msie,c.isIE6=!(!c.msie||6!==parseInt(c.msie,10)),c.isIE7OrLower=!!(c.msie&&parseInt(c.msie,10)<=7),c.isIE8OrLower=!!(c.msie&&parseInt(c.msie,10)<=8),c.isIE9OrLower=!!(c.msie&&parseInt(c.msie,10)<=9),c.isIE10OrLower=!!(c.msie&&parseInt(c.msie,10)<=10),c.isIE10=!(!c.msie||10!==parseInt(c.msie,10)),c.isIE11=!(!c.msie||11!==parseInt(c.msie,10)),c.edge=a?n:0,c.isEdge=a,c.mozilla=a||!/mozilla/.test(e)||/(compatible|webkit|msie|trident)/.test(e)?0:n,c.isMozilla=!!c.mozilla,c.webkit=!a&&/webkit/.test(e)?i:0,c.isWebkit=!!c.webkit,c.chrome=!a&&/chrome/.test(e)?n:0,c.isChrome=!!c.chrome,c.mobileSafari=/apple.*mobile/.test(e)&&c.iOS?i:0,c.isMobileSafari=!!c.mobileSafari,c.iPadSafari=c.iPad&&c.isMobileSafari?i:0,c.isiPadSafari=!!c.iPadSafari,c.iPhoneSafari=c.iPhone&&c.isMobileSafari?i:0,c.isiPhoneSafari=!!c.iphoneSafari,c.iPodSafari=c.iPod&&c.isMobileSafari?i:0,c.isiPodSafari=!!c.iPodSafari,c.isiOSHomeScreen=c.isMobileSafari&&!/apple.*mobile.*safari/.test(e),c.safari=!c.webkit||c.chrome||c.iOS||c.android?0:i,c.isSafari=!!c.safari,c.language=t.split("-",1)[0],c.current=c.edge?"edge":c.msie?"msie":c.mozilla?"mozilla":c.chrome?"chrome":c.safari?"safari":c.opera?"opera":c.mobileSafari?"mobile-safari":c.android?"android":"unknown",c},S=new function(){function e(e){return this.size=0,this.limit=e,this.head=this.tail=void 0,this._keymap={},this}return e.prototype={put:function(e,t){var n={key:e,value:t};return this._keymap[e]=n,this.tail?(this.tail.newer=n).older=this.tail:this.head=n,this.tail=n,this.size===this.limit?this.shift():this.size++,t},shift:function(){var e=this.head;e&&(this.head=this.head.newer,this.head.older=e.newer=e.older=this._keymap[e.key]=void 0)},get:function(e){var t=this._keymap[e];if(void 0!==t)return t===this.tail?t.value:(t.newer&&(t===this.head&&(this.head=t.newer),t.newer.older=t.older),t.older&&(t.older.newer=t.newer),t.newer=void 0,t.older=this.tail,this.tail&&(this.tail.newer=t),(this.tail=t).value)},remove:function(e){var t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.head=t.newer):t.older?(t.older.newer=void 0,this.tail=t.older):this.head=this.tail=void 0,this.size--,t.value},removeAll:function(){this.head=this.tail=void 0,this.size=0,this._keymap={}}},e},L=new function(){var e=function(){this.init.apply(this,arguments)},t={setOptions:function(e){if(this.options={icons:"success",times:2,autoClose:!0,callback:function(){}},e)for(var t in e)this.options[t]=e[t]},init:function(e,t){_.isFunction(t)&&(t.callback=t);var n=this,i=y.Deferred();n.setOptions(t);var a='<div id="tips_box">   <div class="tips_body">     <div class="tips_icons tips_'+this.options.icons+'"></div>     <span>'+e+"</span>   </div></div>";return y("#tips_box").remove(),n.el=y(a).appendTo("body"),y(window).on("resize.tips",function(e){n.doTimeout("tips_resize",250,function(){n.center().show(),n.el.width(n.el.find(".tips_body").outerWidth()+10)})}),u.clearTimeout(f._timeout),n.options.autoClose?f._timeout=setTimeout(function(){y.isFunction(n.options.callback)&&n.options.callback.call(n),n.el.remove(),i.resolve(n,n.options)},1e3*parseInt(n.options.times)):i.resolve(n,n.options),setTimeout(function(){y(window).trigger("resize.tips")},20),i.promise()},hide:function(){u.clearTimeout(f._timeout),this.el.remove()}};return e.prototype=y.extend(t,new x),e},I=new function(){var e=function(){};return e.prototype={queryString:function(e,t){e=(e+"").replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search),i=null;return null===n?"":(i=n[1].replace(/\+/g," "),t?i:decodeURIComponent(i))},parseQuery:function(e){var t={};if("string"!=typeof e&&(e=window.location.search),!(e=e.replace(/^\?/g,"")))return{};for(var n,i=e.split("&"),a=0,o=i.length;a<o;++a)(n=i[a].indexOf("="))<0&&(n=i[a].length),t[decodeURIComponent(i[a].slice(0,n))]=decodeURIComponent(i[a].slice(n+1));return t},stringify:function(e){if(!e||e.constructor!==Object)throw new Error("Query object should be an object.");var t="";for(var n in e)t+=n+"="+encodeURIComponent(e[n])+"&";return t=t.replace(/\&$/g,"")},updateSearchParam:function(e,t){var n=this.parseQuery();if(void 0===t)delete n[e];else{if(t=encodeURIComponent(t),n[e]===t)return{};n[e]=t}var i="?"+stringify(n);return window.history.replaceState(null,"",i+location.hash),{}},get:function(e,t){var n=this.parseQuery(t)[e];return _.isEmpty(n)?"":n}},e},C=new function(){var e=function(){return this.open.apply(this,arguments)};return e.prototype={setOptions:function(e){if(this.options={id:"win",winType:1,name:u,title:"",width:400,height:350,resizable:"yes",scroll:"yes",status:"no",menubar:"no",toolbar:"no",location:"yes",menu:"no",lock:!0,min:!1,max:!1,fixed:!1,data:null,close:""},e)for(var t in e)this.options[t]=e[t]},open:function(e,t,n,i){var a=this;if(_.isObject(e)&&(i=e,n=t=e=""),_.isObject(t)&&(i=t,t=""),_.isObject(n)&&(i=n,n=""),""!=e&&(e=e+(/\?/.test(e)?"&":"?")+"isOpen=true"),a.setOptions(i),a.url=a.options.content?"":e,a.name=a.options.name,a.winType=a.options.winType,a.options.width=t||a.options.width,a.options.height=n||a.options.height,a.lock=a.options.lock,a.close=a.options.close,2==a.winType||3==a.winType){var o=u.screen.availHeight,r=u.screen.availWidth,s=(a.options.width+"").replace(/px/gi,""),l=(a.options.height+"").replace(/px/gi,"");!a.options.top&&(a.options.top=(o-l)/2),!a.options.left&&(a.options.left=(r-s)/2)}switch(a.winType){case 1:return a.dialog(a.url,a.options);case 2:return a.winOpen(a.url,a.options);case 3:return a.modalDialog(a.url,a.options)}},dialog:function(e,t){t=y.extend(!0,{cache:!1,upload_settings:{},data:""},t);return art.dialog.data("dialog_data",t.data),art.dialog.data("upload_settings",t.upload_settings),e?art.dialog.open(e,t,t.cache):art.dialog(t)},winOpen:function(e,t){var n="resizable="+t.resizable+",scrollbars="+t.scroll+",status="+t.status+",toolbar="+t.toolbar+",location="+t.location+",menu="+t.menu+",left="+t.left+",top="+t.top+",width="+t.width+",height="+t.height,i=u.open(e,t.name,n);return _.isFunction(this.close)&&this.close.call(this,u),i},modalDialog:function(e,t){var n,i="scroll:"+t.scroll+";resizable:"+t.resizable+";help:"+t.help+";status:"+t.status+";center:"+t.center+";dialogHeight:"+t.height+";dialogWidth:"+t.width+";dialogTop:"+t.top+";dialogLeft:"+t.left,a={opener:u,data:t.data,winType:3};return n=T.isIE?this.lock?showModalDialog(e,a,i):showModelessDialog(e,a,i):showModalDialog(e,a,i),_.isFunction(this.close)&&this.close.call(this,n),n}},e},k=new function(){var e=function(){this.init.apply(this,arguments)};return e.prototype={setOptions:function(e){if(this.options={limit:!0,handle:null,container:"",maxTop:0,maxLeft:0,maxRight:9999,maxBottom:9999,maxContainer:null,lock:!1,lockX:!1,lockY:!1,onStart:null,onMove:null,onStop:null,isMove:!1,getGhost:null,getHolder:null,selectArea:null},e)for(var t in e)this.options[t]=e[t]},init:function(e,t){var n=this;if(n.$drag=y(e),n.drag=n.$drag[0],n.clientX=0,n.clientY=0,n.mousemove=function(e){n.move(e)},n.mouseup=function(e){n.stop(e)},n.setOptions(t),n.$drag=!n.options.$drag&&n.$drag,n.limit=n.options.limit,n.maxTop=n.options.maxTop,n.maxLeft=n.options.maxLeft,n.maxRight=n.options.maxRight,n.maxBottom=n.options.maxBottom,n.$maxContainer=n.options.maxContainer&&y(n.options.maxContainer),n.lock=n.options.lock,n.lockX=n.options.lockX,n.lockY=n.options.lockY,n.onStart=n.options.onStart,n.onMove=n.options.onMove,n.onStop=n.options.onStop,n.getGhost=n.options.getGhost,n.getHolder=n.options.getHolder,n.selectArea=n.options.selectArea,n.$handle=n.options.handle&&y(n.options.handle)||n.$drag,n.handle=n.$handle[0],!n.$handle)return!1;n._repair(),n.$handle.on("mousedown.drag",function(e){e.preventDefault(),e.stopPropagation(),n.start(e)})},start:function(e){var t,n,i;t=this,n=y.event.fix(e),t._repair(),i=t.$handle.offset(),t.offsetLeft=i.left,t.offsetTop=i.top,t.clientX=n.clientX-t.offsetLeft,t.clientY=n.clientY-t.offsetTop,y(l).on("mousemove.drag",t.mousemove).on("mouseup.drag",t.mouseup),T.isIE?(t.$handle.on("losecapture.drag",t.mouseup),t.handle.setCapture()):(y.event.add(u,"blur",t.mouseup),n.preventDefault()),t.onStart&&t.onStart.call(this,n)},move:function(e){var n,t,i,a,o,r;if(n=this,u.getSelection?u.getSelection().removeAllRanges():l.selection.empty(),n.lock)return n.stop(e),!1;(t=y.event.fix(e),n.top=t.clientY-n.clientY,n.left=t.clientX-n.clientX,n.limit)&&(a=n.maxLeft,o=n.maxRight,i=n.maxTop,r=n.maxBottom,n.$maxContainer&&(i=Math.max(i,0),a=Math.max(a,0),o=Math.min(o,n.$maxContainer.width()),r=Math.min(r,n.$maxContainer.height())),n.left=Math.max(Math.min(n.left,o-n.$drag.outerWidth(!0)),a),n.top=Math.max(Math.min(n.top,r-n.$drag.outerHeight(!0)),i));var s=y(l).scrollTop();n.$drag.css({left:function(e,t){if(!n.lockX)return n.left},top:function(e,t){if(!n.lockY)return s+n.top}}),n.onMove&&n.onMove.call(this,t)},stop:function(e){var t,n;t=this,n=y.event.fix(e),y(l).off(".drag"),T.isIE?(t.$handle.off("losecapture.drag",t.mouseup),t.handle.releaseCapture()):y.event.remove(u,"blur",t.mouseup),t.onStop&&t.onStop.call(this,n)},_repair:function(e){var t=this,n=!t.$maxContainer||t.$maxContainer.css("position");t.limit&&(t.maxRight=Math.max(t.maxRight,t.maxLeft+t.$drag.outerWidth(!0)),t.maxBottom=Math.max(t.maxBottom,t.maxTop+t.$drag.outerHeight(!0)),"relative"!=n&&"absolute"!=n||t.$maxContainer.css("position","relative"))}},e},E=new function(){var e=function(){return this.init.apply(this,arguments)};return e.prototype={setOptions:function(e){var t={total:0,currPage:1,pageSize:10,pageCount:10,pageNumber:5,callback:y.noop,isTotal:!1,isJump:!0,isNum:!0,isNext:!0,isPrev:!0,isFirst:!0,isLast:!0,isGoBtn:!1,sizeList:[],changeCallBack:y.noop,tpl:{first:"首页",last:"尾页",next:"下一页",prev:"上一页",links:"javascript:void(0)",inputInfo:"{sizelist}跳{input}{gobtn}/{sumPage}页",goBtnText:"GO"}};this.options=y.extend(!0,t,e)},init:function(e,t){return this.$el=y(e),this.setOptions(t),this.render().bindFn(),this},render:function(){return this.$el.html(this.createPageBar()),this},bindFn:function(){var i=this;return _.nextTick(function(){y(document).off(".pagination").on("click.pagination",".pagination>a",function(e){e.preventDefault();var t=y(this),n=0<(n=parseInt(t.attr("paged")))?n:1;i.setPage(n).options.callback.call(this,n)}).on("keydown.pagination",".pagination input",function(e){var t=y.trim(y(this).val());if(13==e.which){/^\+?[0-9][0-9]*$/.test(t)&&0<t&&(t=t>i.options.pageCount?i.options.pageCount:t,i.setPage(t).options.callback.call(this,t))}}).on("click.pagination",".pagination button",function(e){var t=y(this).prev("input"),n=y.trim(t.val());/^\+?[0-9][0-9]*$/.test(n)&&0<n&&((e=jQuery.Event("keydown")).keyCode=13,t.tigger(e))}).on("change.pagination",".pagination select",function(e){var t=y.trim(y(this).val());i.options.changeCallBack.call(this,t)}),i.$el.find("select").val(i.options.pageSize)}),i},setPage:function(e){return this.currPage=this.options.currPage=e,this},reload:function(e,t){return this.options.pageCount=t||0,this.options.currPage=e||0,this.render().bindFn(),this},getPage:function(){return this.currPage},createPageBar:function(){var e=this.options,t=e.tpl.links;this.currPage=e.currPage=e.currPage>e.pageCount?e.pageCount:e.currPage;var n=e.currPage,i=parseInt(e.pageCount),a=parseInt(e.pageNumber/2),o=e.pageNumber,r="";if(1==n?(e.isFirst&&(r='<span class="disabled" paged="1">'+e.tpl.first+" </span>"),e.isPrev&&(r+='<span class="disabled" paged="'+e.tpl.prev+'">'+e.tpl.prev+" </span>")):(e.isFirst&&(r='<a href="'+t+'" paged="1">'+e.tpl.first+"</a>"),e.isPrev&&(r+='<a href="'+t+'" paged="'+(n-1)+'">'+e.tpl.prev+" </a>")),e.isNum){var s=lastPage=1;for(i<(s=0<n-a?s=n-a:1)+o?(lastPage=i+1,s=lastPage-o):lastPage=s+o,s<=0&&(s=1);lastPage>s;s++)r+=s==n?'<span class="current" paged="'+s+'">'+s+"</span>":"<a href='"+t+"' paged='"+s+"'>"+s+"</a>"}return n==i?(e.isNext&&(r+='<span class="disabled" paged="'+e.tpl.next+'">'+e.tpl.next+" </span>"),e.isLast&&(r+='<span class="disabled" paged="'+e.tpl.last+'">'+e.tpl.last+" </span>")):(e.isNext&&(r+='<a href="'+t+'" paged="'+(n+1)+'">'+e.tpl.next+"</a>"),e.isLast&&(r+="<a href='"+t+"' paged='"+i+"'>"+e.tpl.last+"</a>")),e.isJump&&(r+=this.createPageInputBar()),e.isTotal&&(r+=' <span class="total">共 '+e.total+" 条</span>"),this.pageBar=r},createSizeList:function(){for(var e=this.options,t=[],n=0,i=e.sizeList.length;n<i;n++){var a=e.sizeList[n];t.push('<option value="'+a+'">'+a+"</option>")}return'<span class="pagesize"><select class="select">'+t.join("")+"</select></span>"},createPageInputBar:function(){var e=this,t=e.options,n='<input type="text" value="'+t.currPage+'" >',i="<button>"+t.tpl.goBtnText+"</button>";return y("<span/>").attr({title:"回车分页"}).addClass("inputBar").html(function(){return t.tpl.inputInfo.replace("{input}",n).replace("{gobtn}",t.isGoBtn?i:"").replace("{sumPage}",t.pageCount).replace("{sizelist}",_.isArray(t.sizeList)&&0<t.sizeList.length?"每页"+e.createSizeList()+"条":"")}).prop("outerHTML")}},e},_=function(e,t){return new _.fn.init(e,t)};_.fn=_.prototype={version:"2.0.1",init:function(e,t){return y(e,t)}},_.fn.init.prototype=_.fn,_.extend=_.fn.extend=y.extend,_.extend({log:s,browser:T,type:function(e){return b(e)},nowDate:function(){return new Date},now:function(){return(new Date).getTime()},error:function(e){throw new Error(e)},randomNum:function(e,t){var n=t-e,i=Math.random();return e+Math.round(i*n)},UUID:function(e){return e=e||"UUID",String(Math.random()+Math.random()).replace(/\d\.\d{4}/,e)},isWindow:function(e){return e&&e.document&&e.location&&e.alert&&e.setInterval},isObject:function(e){return"object"==b(e)},isFunction:function(e){return"function"==b(e)},isDate:function(e){return"date"==b(e)},isNumber:function(e){return"number"==b(e)},isString:function(e){return"string"==b(e)},isDefined:function(e){return"undefined"!=b(e)},isUndefined:function(e){return"undefined"==b(e)},isArray:function(e){return"array"==b(e)},isBoolean:function(e){return"boolean"==b(e)},isEmpty:function(e,t){return null==e||this.isArray(e)&&!e.length||!t&&""===e},isElement:function(e){return!!e&&!!e.tagName},trim:function(e){if(!" ".trim){var t=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;String.prototype.trim=function(){return this.replace(t,"")}}return e.trim()},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}}),_.extend({clone:function(e){return y.extend(!0,{},e)},data:function(e,t){if(_.isEmpty(t))return n.getItem(e);n.setItem(e,t)},removeData:function(e){_.isEmpty(e)?n.clear():n.removeItem(e)},clearData:function(){n.clear()},cookies:function(e,t,n){if(void 0===t){var i=null;if(document.cookie&&""!=document.cookie)for(var a=document.cookie.split(";"),o=0;o<a.length;o++){var r=_.trim(a[o]);if(r.substring(0,e.length+1)==e+"="){i=decodeURIComponent(r.substring(e.length+1));break}}return i}n=n||{},null===t&&(t="",n.expires=-1);var s,l="";n.expires&&("number"==typeof n.expires||n.expires.toUTCString)&&("number"==typeof n.expires?(s=new Date).setTime(s.getTime()+24*n.expires*60*60*1e3):s=n.expires,l="; expires="+s.toUTCString());var c=n.path?"; path="+n.path:"",u=n.domain?"; domain="+n.domain:"",d=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),l,c,u,d].join("")},preloadImages:function(){var e=document;if(e.images){e.MM_p||(e.MM_p=new Array);var t,n=e.MM_p.length,i=preloadImages.arguments;for(t=0;t<i.length;t++)0!=i[t].indexOf("#")&&(e.MM_p[n]=new Image,e.MM_p[n++].src=i[t])}},loadJs:function(e,t,n){var i=this.getFileName(e);if(j.get(i))t&&t();else{n=n||{async:!0,charset:"utf-8"};var a=l.getElementsByTagName("head")[0]||l.documentElement,o=l.createElement("script");o.type="text/javascript",o.src=e,n.charset&&(o.charset=n.charset),o.onload=o.onreadystatechange=function(){var e=o.readyState;if(void 0===e||"loaded"===e||"complete"===e)try{t&&t()}finally{o.onload=o.onreadystatechange=null,o=null}},o.src=e,a.appendChild(o),j.put(i,e)}},nextTick:function(e){setTimeout(e,5)},compile:function(e,t){return template.compile(e,t)},template:function(e,t){return template(e,t)},strLen:function(e){if(!_.isEmpty(e)){for(var t=0,n=(e+"").length,i=0;i<n;i++)a=e.charAt(i),t++,4<escape(a).length&&t++;return t}},cutstr:function(e,t,n){if(!_.isEmpty(e)){var i=0,o=(n=n||"...",new String),r=(e+"").length;t*=2;for(var s=0;s<r;s++)if(a=e.charAt(s),i++,4<escape(a).length&&i++,o=o.concat(a),t<=i)return o=o.concat(n);return i<t?e:void 0}},dateFormat:function(i,e){if(_.isEmpty(i)&&!_.isString(i))e="";else{_.isString(i)&&(i=new Date(i.replace(/-/g,"/")));var a={M:i.getMonth()+1,d:i.getDate(),h:i.getHours(),m:i.getMinutes(),s:i.getSeconds(),q:Math.floor((i.getMonth()+3)/3),S:i.getMilliseconds()};e=e.replace(/([yMdhmsqS])+/g,function(e,t){var n=a[t];return void 0!==n?(1<e.length&&(n=(n="0"+n).substr(n.length-2)),n):"y"===t?(i.getFullYear()+"").substr(4-e.length):e})}return e},dateDiff:function(e){var t,n,i,a;return a=parseInt((new Date).getTime()/1e3)-new Date(Date.parse(e.replace(/-/g,"/"))).getTime()/1e3,i=parseInt(a/86400),n=parseInt(a/3600),t=parseInt(a/60),a<60?t+"秒前":0<i&&i<4?i+"天前":i<=0&&0<n?n+"小时前":n<=0&&0<t?t+"分钟前":_.dateFormat(e,"MM月dd日")},formatSeconds:function(e){var t=parseInt(e),n=0,i=0,a=0;1e3<t&&60<(n=parseInt(t/1e3))&&(i=parseInt(n/60),n=parseInt(n%60),60<i&&(a=parseInt(i/60),i=parseInt(i%60)));var o=parseInt(t)+" 毫秒";return 0<n&&(o=parseInt(n)+" 秒"),0<i&&(o=parseInt(i)+" 分"+o),0<a&&(o=parseInt(a)+" 小时"+o),o},str2Json:function(e){for(var t="",n=0;n<e.length;n++)switch(c=e.charAt(n),c){case'"':t+='\\"';break;case"\\":t+="\\\\";break;case"/":t+="\\/";break;case"\b":t+="\\b";break;case"\f":t+="\\f";break;case"\n":t+="\\n";break;case"\r":t+="\\r";break;case"\t":t+="\\t";break;default:t+=c}return t},textAreaHtml:function(e){return e?e.replaceAll("\\n","<br/>").replaceAll(" ","&nbsp"):""},asyncQueue:function(){var t,n,a,o,r,s=this,l=[],c=!1,u=0;return o=function(){var e=l.shift();e&&(u++,setTimeout(function(){e.fn.apply(s,[s]),e.isParallel||!1===c&&o(),0==--u&&0==l.length&&r()},e.timeOut),e.isParallel&&!1===c&&o())},r=function(){t&&t.apply(s,[s])},this.onComplete=function(e){t=e},this.onFailure=function(e){n=e},this.add=function(e){var t=e;if(t&&"[object Array]"===Object.prototype.toString.call(t)){var n=arguments[1],i=void 0!==arguments[2]?arguments[2]:10;if("function"==typeof n)for(var a=0;a<t.length;a++)(function(e){l.push({isParallel:!0,fn:function(){n.apply(s,[s,e])},timeOut:i})})(t[a])}else{n=e,i=void 0!==arguments[1]?arguments[2]:10;l.push({isParallel:!1,fn:e,timeOut:i})}return this},this.addParallel=function(e,t){return l.push({isParallel:!0,fn:e,timeOut:t}),this},this.storeData=function(e){return a=e,this},this.lastCallbackData=function(){return a},this.run=function(){c=!1,o()},this.pause=function(){return c=!0,this},this.failure=function(){if(c=!0,n){var e=[s];for(i=0;i<arguments.length;i++)e.push(arguments[i]);n.apply(s,e)}},this.size=function(){return l.length},this},base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,i,a,o,r,s,l="",c=0;for(e=this._utf8_encode(e);c<e.length;)a=(t=e.charCodeAt(c++))>>2,o=(3&t)<<4|(n=e.charCodeAt(c++))>>4,r=(15&n)<<2|(i=e.charCodeAt(c++))>>6,s=63&i,isNaN(n)?r=s=64:isNaN(i)&&(s=64),l=l+this._keyStr.charAt(a)+this._keyStr.charAt(o)+this._keyStr.charAt(r)+this._keyStr.charAt(s);return l},decode:function(e){var t,n,i,a,o,r,s="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)t=this._keyStr.indexOf(e.charAt(l++))<<2|(a=this._keyStr.indexOf(e.charAt(l++)))>>4,n=(15&a)<<4|(o=this._keyStr.indexOf(e.charAt(l++)))>>2,i=(3&o)<<6|(r=this._keyStr.indexOf(e.charAt(l++))),s+=String.fromCharCode(t),64!=o&&(s+=String.fromCharCode(n)),64!=r&&(s+=String.fromCharCode(i));return s=this._utf8_decode(s)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):(127<i&&i<2048?t+=String.fromCharCode(i>>6|192):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128)),t+=String.fromCharCode(63&i|128))}return t},_utf8_decode:function(e){for(var t="",n=0,i=c1=c2=0;n<e.length;)(i=e.charCodeAt(n))<128?(t+=String.fromCharCode(i),n++):191<i&&i<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),n+=3);return t}},getFileName:function(e){var t=e.lastIndexOf("/");return e.substring(t+1)},getDomain:function(){document.domain;return location.protocol+"//"+window.location.host}(),getLocation:(d=window.location,h=d.hash,d.host,g=d.hostname,m=d.pathname,v=d.port,w=d.protocol+"//"+g+(v?":"+v:""),{fullUrl:w+m+h,url:w})}),_.extend({url:new function(){return new I},tips:function(e,t){return new L(e,t)},tipsOk:function(e,t){return new L(e,y.extend(!0,t,{icons:"success"}))},tipsErr:function(e,t){return new L(e,y.extend(!0,t,{icons:"error"}))},tipsInfo:function(e,t){return new L(e,y.extend(!0,t,{icons:"info"}))},tipsLoading:function(e,t){return new L(e,y.extend(!0,t,{icons:"loading"}))},openWin:function(e,t,n,i){return new C(e,t,n,i)},dragDrop:function(e,t){return new k(e,t)},editor:function(e,t){return new O(e,t)}}),_.extend({ajaxText:function(e){var t=y.extend(!0,e,{type:"GET",dataType:"TEXT"});return _.ajax(t)},ajaxGet:function(e){var t=y.extend(!0,e,{type:"GET"});return _.ajax(t)},ajax:function(e){var t=y.extend(!0,{type:"POST",dataType:"JSON"},e);return""==t.url?(_.tipsErr("请求地址不能为空！"),!1):(t.url=GLOBAL_CONTEXTPATH+""+t.url+(/\?/.test(t.url)?"&":"?")+"IsAjax=1&dataType="+t.dataType+"&_="+Math.random(),y.ajax(t).fail(function(e){_.tips("请求出错！",{icons:"error"})}).always(function(){y("#ajax_tip").remove(),y("[ms-controller]").css("visibility","visible")}))},chkAll:function(e,t,n){var i={};return null==n?i=e.checked?y("input[name='"+t+"']").each(function(){y(this).prop("checked",!0)}):y("input[name='"+t+"']").each(function(){y(this).prop("checked",!1)}):1==n&&(i=y("input[name='"+t+"']").each(function(){y(this).prop("checked",!this.checked)})),i},injectTplVal:function(){template.helper("GLOBAL_CONTEXTPATH",GLOBAL_CONTEXTPATH||""),template.helper("GLOBAL_FILESERVERPATH",GLOBAL_FILESERVERPATH||""),template.helper("GLOBAL_FILESERVERNAMEPATH",GLOBAL_FILESERVERNAMEPATH||""),template.helper("GLOBAL_HTMLFILEPATH",GLOBAL_HTMLFILEPATH||""),template.helper("GLOBAL_SITEURI",GLOBAL_SITEURI||""),template.helper("GLOBAL_RIGHTS",GLOBAL_RIGHTS||"")},stope:function(e){(e=e||win.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0},parseOptions:function(t){if(t){"{"!=t.substring(0,1)&&(t="{"+t+"}");try{return new Function("return "+t)()}catch(e){s(t)}}}}),y.fn.extend({getCheckBoxArr:function(n){var i=[];return y(this).each(function(e,t){(t.checked=n)&&i.push(t.value)}),i},getFromJSON:function(){var n={};return y.each(this.serializeArray(),function(e){var t=this;n[t.name]?n[t.name]=n[t.name]+","+t.value:n[t.name]=t.value}),n},getChecked:function(){return y(this).map(function(){return this.value}).get().join(",")},serializeObject:function(){var e={},t=this.serializeArray();return y.each(t,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},scrollLoading:function(e){var t={attr:"data-url",container:y(window),callback:y.noop},i=y.extend({},t,e||{});i.cache=[],y(this).each(function(){var e=this.nodeName.toLowerCase(),t=y(this).attr(i.attr),n={obj:y(this),tag:e,url:t};i.cache.push(n)});var l=function(e){y.isFunction(i.callback)&&i.callback.call(e.get(0))},n=function(){var r,s=i.container.height();r=y(window).get(0)===window?y(window).scrollTop():i.container.offset().top,y.each(i.cache,function(e,t){var n,i=t.obj,a=t.tag,o=t.url;i&&(n=i.offset().top-r,i.height(),0<=n&&n<s&&(o?"img"===a?l(i.attr("src",o)):i.load(o,{},function(){l(i)}):l(i),t.obj=null))})};n(),i.container.off("scroll.loading").on("scroll.loading",n)},screenWidth:function(){return 800==u.screen.width?800:1024==u.screen.width?1024:1280==u.screen.width?1280:void 0}}),u.EWEBEDITOR_EVENT=function(e){var t={LoadComplete:function(e){},Change:function(e){if(e.Config.autoHeight){var t=y("#"+e.IframeId).contents().find("#eWebEditor"),n=t.contents().find("#eWebEditor_FixWidth_DIV"),i=t.height(),a=n.outerHeight(!0),o=parseInt(n.css("min-height")),r=1==n.children().size()?n.children().last().outerHeight():n.children().last().offset().top+n.children().last().height();if(i<=a){var s=Math.ceil((a-i)/300);y("#"+e.IframeId).get(0).contentWindow.sizeChange(300*s)}if(320<=o-r){var l=Math.floor((o-r)/300);681==o&&r<370?l=1:r<370&&l--,y("#"+e.IframeId).get(0).contentWindow.sizeChange(-300*l)}EWEBEDITOR.UpdateAll(),y(e.LinkElement).trigger("textarea")}}},n=EWEBEDITOR.Instances[e.id];t[e.flag](n)};var O=new function(){var e=function(){return this.init.apply(this,arguments)};return e.prototype={setOptions:function(e){this.options={style:"Lstandard3",width:"100%",height:"550"},this.options=y.extend(!0,this.options,e)},init:function(e,t){var n=this;if(t.cusdir){var i=t.cusdir.substr(1).split("/")[1];t.extcss="/pageStyle/getCssByColumn/"+i;var a=pageStyle.data;return a.columnConfig&&a.columnConfig[i]?t.fixwidth=a.columnConfig[i].width:a.baseConfig&&(t.fixwidth=a.baseConfig.width),n.setOptions(t),n.name=e,n.editObj=n.create(e,n.options),n}return n.setOptions(t),n.name=e,n.editObj=n.create(e,n.options),n},create:function(e,t){return EWEBEDITOR.Config=t,EWEBEDITOR.Replace(e)},setHtml:function(e){return null===e&&(e=""),EWEBEDITOR.SetHtmlAsync(this.name,e)},getHtml:function(){return this.editObj.getHTML()},getText:function(){return this.editObj.getText()},getObj:function(){return this.editObj},update:function(){EWEBEDITOR.UpdateAll()},getAllImg:function(){return this.editObj.getAllImageSrc()},insertHTML:function(e){return this.editObj.insertHTML(e)},evt:{LoadComplete:function(){}}},e};_.extend({pagination:function(e,t,n,i){i=i||y("#pagination");0<(e=e||0)?i.pagination(e,{num_edge_entries:1,num_display_entries:4,callback:n,items_per_page:1,prev_text:"前一页",next_text:"下一页",current_page:t}):i.text("")},pagination2:function(e,t,n){!Ls.isObject(e)||e instanceof jQuery||(t=e,e="#pagination");var i=y.extend(!0,{total:0,isTotal:!1,pageCount:0,pageIndex:1,pageSize:15,callback:y.noop},t);return 0==i.pageIndex&&(i.pageIndex=1),Ls.pagination3(e,i.callback,{currPage:i.pageIndex,total:i.total,isTotal:i.isTotal,pageCount:i.pageCount})},pagination3:function(e,t,n){var i=y.extend(!0,{total:0,isTotal:!1,isJump:!0,pageCount:20,currPage:1,pageNumber:5,callback:t},n);return new E(e,i)},mimeTypes:function(e){if(Ls.isEmpty(e))return!1;for(var t=[],n=e.split(","),i=0,a=n.length;i<a;i++)t.push(MIMETYPES[n[i]]);return t.join(",")},uploadFile:function(s,e){this.isFunction(s)||(e=s);var r=[],t={dialog:Ls.getWin.dialog,server:e.upload_url?e.upload_url:"",pick:{id:"#spanButtonPlaceHolder"},formData:e.post_params?e.post_params:"",fileNumLimit:e.file_upload_limit?e.file_upload_limit:"",fileSingleSizeLimit:e.file_size_limit?e.file_size_limit:"",accept:{title:e.file_types_description?e.file_types_description:"",extensions:e.file_types?"*.*"===e.file_types?"*.*":e.file_types.split(";*.").join().substr(2):"",mimeTypes:"*/*"},fileVal:"Filedata",flag:!0,lock:e.lock?e.lock:"",events:{beforeOpen:function(){return!0},beforeRemove:function(){return!0},removeFile:function(){},beforeFileQueued:function(e){this.options.flag=!0,Ls.log("beforeFileQueued:文件刚被加入队列")},fileQueued:function(e){Ls.log("fileQueued:文件被加入")},filesQueued:function(e){Ls.log("filesQueued:一批文件被加入")},fileDequeued:function(e){Ls.log("fileDequeued:文件被移除")},uploadStart:function(e){Ls.log("uploadStart:文件开始上传前触发")},uploadSuccess:function(e,t){Ls.log("uploadSuccess:111");var n=this.options,i=this.options.doc,a=i.find(".progressBarStatus"),o=i.find(".progressContainer");t&&(o.addClass("blue"),a.text("上传成功"),r.push(JSON.stringify(t))),!n.dialog&&s&&s.call(this,r)},uploadError:function(e,t){Ls.log("uploadError:");var n=this.options,i=this.options.doc,a=i.find(".progressContainer"),o=i.find(".progressBarStatus"),r=i.find(".progressBarInProgress");n.flag=!1,a.addClass("red"),o.text("上传失败"),r.css("width","0%"),!n.dialog&&s&&s.call(this,t)},uploadProgress:function(e,t){var n=this.options.doc;Ls.log("uploadProgress:");y("#"+e.id);n.find(".progressBarInProgress").css("width",100*t+"%")},uploadComplete:function(e){Ls.log("uploadComplete:"),this.options.doc.find(".progressBarInProgress").remove()},uploadFinished:function(){Ls.log("uploadFinished:");var e=this.options;this.options.flag&&Ls.tips("文件上传成功，窗口将自动关闭！",{callback:function(){e.dialog&&e.dialog.close(r)}})},errorHandler:function(e){var n=this;return Ls.log("code:",e,n),alert(function(e){var t="";switch(e){case"Q_EXCEED_NUM_LIMIT":t="超时上传数量";break;case"Q_EXCEED_SIZE_LIMIT":case"F_EXCEED_SIZE":t="文件总大超出设定的值（"+n.options.fileSingleSizeLimit1+n.options.mega+"）";break;case"Q_TYPE_DENIED":t="文件类型不匹配; \n\n 允许类型："+n.options.accept[0].extensions}return t}(e)),!1}}};return 0!=e.fileType?function(){e.events={beforeOpen:t.events.beforeOpen,beforeRemove:t.events.beforeRemove,removeFile:t.events.removeFile},e.events.beforeOpen.call(this)&&Ls.openWin("/fileCenter/uploadPage","530px","360px",{id:"uploadFile_swf",title:e&&e.title||"上传",upload_settings:t,close:function(e){if(e&&0<e.length)try{filePath=new Function("return ["+e.join()+"]")(),s.call(this,filePath)}catch(e){alert("返回数据类型无法解析！")}}})}():function(){var n=y("#fsUploadProgress");"KB"==e.mega?e.fileSingleSizeLimit=1024*e.fileSingleSizeLimit1:e.fileSingleSizeLimit=1024*e.fileSingleSizeLimit1*1024;var t=WebUploader.create(e);return y(".max_info").html("&nbsp;[最多上传："+e.fileNumLimit+"个文件，最大上传："+e.fileSingleSizeLimit1+e.mega+" ]"),t.on("fileQueued",function(e){var t=y('<div class="progressWrapper" id="'+e.id+'">    <div class="progressContainer">        <a class="progressCancel" href="javascript:void(0)" data-id="'+e.id+'" style="visibility: visible;"> </a>        <div class="progressBarInProgress"></div>        <div class="progressName">'+e.name+'</div>        <div class="progressBarStatus">&nbsp;</div>    </div></div>');n.append(t)}),t.on("beforeFileQueued",e.events.beforeFileQueued),t.on("fileQueued",e.events.fileQueued),t.on("filesQueued",e.events.filesQueued),t.on("fileDequeued",e.events.fileDequeued),t.on("uploadStart",e.events.uploadStart),t.on("uploadProgress",e.events.uploadProgress),t.on("uploadSuccess",e.events.uploadSuccess),t.on("uploadError",e.events.uploadError),t.on("uploadComplete",e.events.uploadComplete),t.on("uploadFinished",e.events.uploadFinished),t.on("error",e.events.errorHandler),y(document).on("click",".progressCancel",function(){var e=y(this).data("id");t.removeFile(e,!0),y("#"+e).remove()}),t}()},uploadFileMT:function(i,e){Ls.openWin("/articleNews/thumbUpload","650px","410px",{id:"uploadFile_mt",title:"上传",upload_settings:e,close:function(e,t){var n=t.filePath;if(n&&0<n.length)try{n=new Function("return ["+n.join()+"]")(),i.call(this,n)}catch(e){alert("返回数据类型无法解析！")}}})},getWin:function(){var t={win:{},api:{},list:{},dialog:{}};try{return t.win=art.dialog.opener,t.api=art.dialog.open.api,t.list=art.dialog.list,t.dialog=art.dialog,t}catch(e){try{if(u.dialogArguments&&u.dialogArguments.opener)return t.win=u.dialogArguments,t.win;if(u.opener)return t._win}catch(e){}}}(),winClose:function(e){var t=Ls.getWin;try{if(e)if("all"==e){var n=t.list;for(var i in n)n[i].close()}else t.list[e].close();else t.dialog.close()}catch(e){}},assignVM:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(!i||"object"==typeof i)for(var n in e)e.hasOwnProperty(n)&&i.hasOwnProperty(n)&&(e[n]=i[n])}return e},toJSON:function(e){var t=e||{},n=[],i=JSON.stringify(t,function(e,t){if("object"==typeof t){if(!n.indexOf(t))return"__cycle__"+typeof t+"["+e+"]";n.push(t)}return t},4);return JSON.parse(i)},initFORM:function(e,t){var n;e=e.replace(/(#|\.)/g,"");return(n=y("#"+e).serializeObject()||{}).$id=e,y.extend(!0,n,t)},treeDataFilter:function(e,t){if(!e)return!1;switch(t){case this.treeDataType.SITE:for(var n=0,i=e.length;n<i;n++){"CMS_Site"==(o=e[n]).type||"SUB_Site"==o.type?o.icon=GLOBAL_CONTEXTPATH+"/assets/images/"+o.type+".png":"workGuide"!=o.columnTypeCode&&"sceneService"!=o.columnTypeCode||o.isParent?o.icon=GLOBAL_CONTEXTPATH+"/assets/images/"+o.columnTypeCode+".png":o.icon=GLOBAL_CONTEXTPATH+"/assets/images/"+o.columnTypeCode+"2.png","redirect"==o.columnTypeCode?o.tips="跳转地址："+o.transUrl:o.tips="ID:"+o.indicatorId}break;case this.treeDataType.UNIT:case this.treeDataType.USER:for(n=0,i=e.length;n<i;n++){(o=e[n]).icon=GLOBAL_CONTEXTPATH+"/assets/images/"+(o.type||o.nodeType||"").toLowerCase()+".gif",o.tips="单位ID："+o.id}break;case this.treeDataType.GUIDE_ORGAN:for(n=0,i=e.length;n<i;n++){(o=e[n]).icon=GLOBAL_CONTEXTPATH+"/assets/images/organ.gif"}break;case this.treeDataType.LABEL:for(n=0,i=e.length;n<i;n++){(o=e[n]).tips="标签ID："+o.id+"\n标签描述："+o.description,0<o.pId&&(o.icon=GLOBAL_CONTEXTPATH+"/assets/images/label01.png"),o.isParent=1==o.isParent}break;case this.treeDataType.PUBLIC_CONTENT:for(n=0,i=e.length;n<i;n++){(o=e[n]).data?"Organ"==o.type?o.tips="单位ID："+o.organId:o.tips="目录ID："+o.data.catId:o.tips="目录ID："+o.id}break;case this.treeDataType.ROLE:var a="";for(n=0,i=e.length;n<i;n++){var o;a="super_admin"==(o=e[n]).code||"site_admin"==o.code?o.code:"common_admin",o.icon=GLOBAL_CONTEXTPATH+"/assets/images/"+a+".gif"}break;case this.treeDataType.MENU:this.ztreeChildren(e);break;case this.treeDataType.ZTREE:}return e},treeDataType:{SITE:"SITE",UNIT:"UNIT",USER:"USER",ROLE:"ROLE",TPL:"TPL",MENU:"MENU",LABEL:"LABEL",CATALOG:"CATALOG",GUIDE_ORGAN:"GUIDE_ORGAN",PUBLIC_CONTENT:"PUBLIC_CONTENT",SUBMITTED:"SUBMITTED",NET_WORK:"NET_WORK",ZTREE:"ZTREE"},ztreeChildren:function(e){if(!e)return!1;for(var t=0,n=e.length;t<n;t++){var i=e[t];i.tips="菜单ID："+i.id,i.children&&Ls.ztreeChildren(i.children)}},mini_datagrid_height:function(e,t,n){var i=y("#page_content").height()||y(window).height(),a=0;n?a=i-(t||0):a=i-y(".table-toolbar").height()-(t||25);return e&&e.setHeight(a),e},mini_datagrid_attr:function(e,t){var n=y.extend(!0,{width:0,heigth:0},t),i=y("#content_body"),a=y("#page_content"),o=y(".table-toolbar"),r=(a.width(),a.height(),i.width());i.height(),o.width(),o.height();return 0<i.length&&0==n.width&&(n.width=r-40),e&&e.setWidth(n.width),e},toUnixTime:function(){var e,t,n,i,a,o,r=arguments[0]||0;return(e=r?new Date(1e3*r):new Date).getFullYear()+"-"+((t=e.getMonth()+1)<10?"0"+t:t)+"-"+((n=e.getDate())<10?"0"+n:n)+" "+((i=e.getHours())<10?"0"+i:i)+":"+((a=e.getMinutes())<10?"0"+a:a)+":"+((o=e.getSeconds())<10?"0"+o:o)},dropDown:function(e){var t=y.Deferred();return t.reject(event,treeId,treeNode,msg),t.resolve(event,treeId,treeNode,msg),t.promise()},checkWordTypes:function(e){var t=[];return 1==e.isEasyWord&&t.push(1),1==e.isSensitiveWord&&t.push(2),t},checkIsWords:function(e){return Ls.ajax({data:{content:e.content,types:e.types},url:"/content/isCheck"})},checkWordOpen:function(t){try{var e=checkContent()}catch(e){return alert("当前页面未找到 checkContent() 方法"),!1}var n,i;(Ls.isString(e)?(n=y.Deferred(),i={data:{checkContent:e}},n.resolve(i),n.promise()):e).done(function(e){content_mgr.config={content:e.data.checkContent,types:Ls.checkWordTypes(t)},Ls.checkIsWords(content_mgr.config).done(function(e){1==e.status&&(1==e.data?Ls.openWin("/content/checkPage","600px","460px",{id:"checkAll",title:"内容检测"}):saveData())})})},checkWords:function(e){return Ls.ajaxGet({data:{columnId:e||content_mgr.indicatorId},url:"/content/getModelConfig"}).done(function(e){if(1==e.status){var t=e.data;1!=t.isSensitiveWord&&1!=t.isEasyWord||Ls.checkWordOpen(t)}else Ls.tipsErr("内容模型获取错误")})},dropDowns:function(e,t){var n=this,i={},a=y("#"+e),o=(a.offset(),y(".input-group-btn",a),y.extend(!0,{id:"dropdowns",css:{height:"300px",outline:0,position:"absolute",display:"none",overflow:"hidden",border:"1px solid #b3b3b3","z-index":10,"background-color":"#F6FAFD",top:a.outerHeight()-1,left:0,width:a.outerWidth()},ajax:"",html:y.noop,show:function(){i.show(0)},hide:function(){i.hide(0)},click:function(e){var t=y(e.target);a.find("input:first").val(t.html()),o.hide()}},t));0==(i=y("#"+o.id)).length&&(i=y("<div/>").css(o.css).attr({id:o.id,tabindex:"-1"}).append('<ul class="dialogList"></ul>'),a.find("input:first").before(i),Ls.isObject(o.ajax)?Ls.ajax(o.ajax).done(function(e){o.html=o.html.call(n,a,e),i.find(".dialogList").html(o.html),o.show()}):i.find(".dialogList").html(o.html)),o.show(),i.off().on("click","a",o.click),y(document).off("click.ls.dropdown").on("click.ls.dropdown",function(e){!y.contains(a[0],e.target)&&i.hide(0,o.hide)})},dropDowns2:function(e,t){var n={},i=y("#"+e),a=(i.offset(),y(".input-group-btn",i),y.extend(!0,{id:"dropdowns2",async:{enable:!0,type:"GET",dataType:"JSON",url:"",dataFilter:function(e,t,n){return Ls.treeDataFilter(n.data,Ls.treeDataType.ZTREE)}},nodes:"",show:function(){n.slideDown(0)},hide:function(){n.slideUp(0)},css:{height:"250px",outline:0,position:"absolute",display:"none",overflow:"auto",border:"1px solid #b3b3b3","z-index":10,"background-color":"#F6FAFD",top:function(e,t){return i.outerHeight()-1},left:0,width:i.outerWidth()}},t));if(y(document).off("click.ls.dropdown2").on("click.ls.dropdown2",function(e){!y.contains(i[0],e.target)&&n.slideUp(0,a.hide)}),0==(n=y("#"+a.id)).length){n=y("<div/>").css(a.css).attr({id:a.id,tabindex:"-1"}).append('<ul id="'+a.id+'_ztree" class="ztree dialogList2"></ul>'),i.find("input:first").before(n);var o=y("#"+a.id+"_ztree");return a.show(),Ls.isEmpty(a.nodes)?y.fn.zTree.init(o,a):y.fn.zTree.init(o,a,a.nodes)}a.show()},copyRefer:function(t,e,n,i){n||(n=1);var a=1==n?"复制":"引用",o="/content/toCopyRefer?contentId="+t+"&source="+e+"&type="+n;Ls.openWin(o,"400px","400px",{id:"copy_refer_page",title:a+"到",ok:function(){iframe=this.iframe.contentWindow,data=iframe.ok(),data.contentId=t.toString(),data.type=n;var e=Ls.ajax({url:"/content/copyRefer",data:data}).done(function(e){e.status?Ls.tipsOk(a+"完成"+(data.hasPublish?"，正在生成处理中":"！")):Ls.tipsErr(e.desc)});i&&i.call(this,e)}})},selectUnitUser:function(e,t,n){n=n||"/common/selectUnitUser";var i={id:"openSelectUnitUser",winType:1,title:"选择",width:790,height:516,max:!1,resize:!1,scope:0,organIds:"",scopeType:"multi",isOrganRoot:0,isSimple:0,isSelectParent:1,isContainsExternal:!1,isOneSelf:!1,close:e},a=y.extend({},i,t);return n=n+"?isOrganRoot="+a.isOrganRoot+"&organIds="+a.organIds+"&scope="+a.scope+"&scopeType="+a.scopeType+"&isSimple="+a.isSimple+"&isSelectParent="+a.isSelectParent+"&isContainsExternal="+a.isContainsExternal+"&isOneSelf="+a.isOneSelf,n+=a.messageId&&a.messageColumnId?"&messageId="+a.messageId+"&messageColumnId="+a.messageColumnId:"",Ls.openWin(n,a)},selectColumn:function(e,t){var n="/common/selectColumn2",i={id:"openSelectColumn",winType:1,title:"选择",width:790,height:516,max:!1,resize:!1,scope:0,organIds:"",scopeType:"multi",isSimple:0,close:e},a=y.extend({},i,t);return n=n+"?columnId="+a.organIds+"&scope="+a.scope+"&scopeType="+a.scopeType+"&isSimple="+a.isSimple,Ls.openWin(n,a)},getResource:function(e,i,t){var n={async:{url:"/content/newsSource",dataFilter:function(e,t,n){var i=n.data;return i.unshift({id:-1,pid:null,key:GLOBAL_PERSON.unitName,isParent:!1}),i}},data:{key:{title:"key",name:"key"},data:{simpleData:{enable:!0,idKey:"id",pIdKey:"pid"}}},callback:{onClick:function(e,t,n){i&&i.call(this,e,t,n)}}};return Ls.dropDowns2(e,y.extend({},n,t))},publishStatus:function(e){var t="";return e+""=="2"&&(t="disabled"),t},parseEcharts:function(e){Ls.loadJs(GLOBAL_STATIC_PATH+"/assets/js/plugins/echarts/echarts.min.js",function(){require.config({paths:{echarts:GLOBAL_STATIC_PATH+"/assets/js/plugins/echarts"}}),e&&e.call(this,require)})}}),String.prototype.replaceAll=function(e,t,n){return RegExp.prototype.isPrototypeOf(e)?this.replace(e,t):this.replace(new RegExp(e,n?"gi":"g"),t)},String.prototype.setUrlParam=function(e,t){var n=_.url.parseQuery(this);void 0===t?delete n[e]:n[e]=encodeURIComponent(t);var i="?"+_.url.stringify(n);return this.split("?")[0]+i};try{avalon.filters.formatSeconds=function(e){return ret=Ls.formatSeconds(e),ret}}catch(e){}try{_.injectTplVal(),template.helper("Ls",_)}catch(e){}y(document).ajaxStart(function(){var e=y("#ajax_tips");0==e.length&&y('<div id="ajax_tips">正在处理中，请稍后...</div>').appendTo("body"),e.show(),y(".btn-save-release,.btn-save").prop("disabled",!0)}).ajaxComplete(function(e,t,n){try{if("json"==n.dataType||"jsonp"==n.dataType){var i=y.parseJSON(t.responseText);"-9"!=i.status&&"-9"!=i.data||confirm("是否重新登录？")&&top.location.replace(Ls.getLocation.url+GLOBAL_CONTEXTPATH+"/logout")}}catch(e){}y("#ajax_tips").hide(),y(".btn-save-release,.btn-save").prop("disabled",!1)}),_.config={debug:!0};var j=new S(30);!function(){var l={nice:{js:"nice-validator/validator-min.js",css:"nice-validator/validator-min.css"},validator:{js:"nice-validator/local/zh-CN.js",dependencies:["nice"]},ztree:{js:"ztree/ztree-min.js",css:"ztree/ztree-min.css"},datePicker:{js:"datePicker/WdatePicker-min.js"},dialog:{js:"dialog-min.js"},artDialog:{js:"artdialog-min.js"},ckplayer:{js:"ckplayer/ckplayer-min.js"},myfocus:{js:"myfocus-min.js"},jt:{js:"jt-min.js"},png:{js:"png-min.js"},MSClass:{js:"MSClass-min.js"},hotkeys:{js:"hotkeys-min.js"},wza:{js:"wza-min.js"},swfobject:{js:"swfobject-min.js"},qrcode:{js:"qrcode.min.js"},moment_core:{js:"moment/moment.min.js"},moment:{js:"moment/zh-cn.js",dependencies:["moment_core"]}},c={},u={};function d(e,t){var n=!1,i=_.getFileName(e);if(j.get(i))t&&t();else{var a=document.createElement("script");a.type="text/javascript",a.language="javascript",a.src=e,a.onload=a.onreadystatechange=function(){n||a.readyState&&"loaded"!=a.readyState&&"complete"!=a.readyState||(n=!0,a.onload=a.onreadystatechange=null,t&&t.call(a))},document.getElementsByTagName("head")[0].appendChild(a),j.put(i,e)}}function p(e,t){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.media="screen",n.href=e,document.getElementsByTagName("head")[0].appendChild(n),t&&t.call(n)}function n(e,t){var a=[],o=!1;if("string"==typeof e)i(e);else for(var n=0;n<e.length;n++)i(e[n]);function i(e){if(l[e]){var t=l[e].dependencies;if(t)for(var n=0;n<t.length;n++)i(t[n]);a.push(e)}}function r(){t&&t(),f.onLoad(e)}var s=0;!function e(){if(a.length){var t=a[0];u[t]?"loaded"==u[t]?(a.shift(),e()):s<f.timeout&&(s+=10,setTimeout(arguments.callee,10)):(o=!0,function(e,t){u[e]="loading";var n=l[e],i="loading",a=f.css&&n.css?"loading":"loaded";if(f.css&&n.css){if(/^http/i.test(n.css))var o=n.css;else o=f.base+f.theme+n.css;p(o,function(){(a="loaded")==i&&"loaded"==a&&r()})}function r(){u[e]="loaded",f.onProgress(e),t&&t()}d(o=/^http/i.test(n.js)?n.js:f.base+n.js,function(){(i="loaded")==i&&"loaded"==a&&r()})}(t,function(){a.shift(),e()}))}else if(f.locale&&1==o&&c[f.locale]){var n=f.base+"locale/"+c[f.locale];i=function(){r()},d(n,function(){document.getElementsByTagName("head")[0].removeChild(this),i&&i()})}else r();var i}()}for(var f={modules:l,locales:c,base:"/assets/js/plugins/",theme:"",css:!0,locale:null,timeout:2e3,load:function(e,t){/\.css$/i.test(e)?/^http/i.test(e)?p(e,t):p(f.base+e,t):/\.js$/i.test(e)?/^http/i.test(e)?d(e,t):d(f.base+e,t):n(e,t)},onProgress:function(e){},onLoad:function(e){}},e=document.getElementsByTagName("script"),t=0;t<e.length;t++){var i=e[t].src;if(i&&/core|common(?:(\-|\.)min)?.js/.test(i)){var a=_.url.parseQuery(i.split("?")[1]);if(a.lib)for(var o=a.lib.split(","),r=(t=0,o.length);t<r;t++)f.load(o[t]);_.args=a;break}}window.using=f.load}();var P={};if(P.www={init:function(){var e=this;e.tabs(),e.scroll(),e.myLinks(),e.myFloat(),e.myCouplet(),e.myMarquee(),e.swfPlayer(),e.renderDate()},tabs:function(){var s=this,i=function(e){this.element=y(e)};i.prototype.show=function(){var e=this.element,t=e.closest("ul"),n=e.data("target");if(n||(n=(n=e.data("id")||e.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")||e.parent("li").hasClass("reload")){var i=t.find(".active:last a"),a=y.Event("hide.ls.tab",{relatedTarget:e[0]}),o=y.Event("show.ls.tab",{relatedTarget:i[0]});if(i.trigger(a),e.trigger(o),!o.isDefaultPrevented()&&!a.isDefaultPrevented()){var r=y(n);this.activate(e.closest("li"),t),this.activate(r,r.parent(),function(){i.trigger({type:"hidden.ls.tab",relatedTarget:e[0]}),e.trigger({type:"shown.ls.tab",relatedTarget:i[0]}),s.myMarquee()})}}},i.prototype.activate=function(e,t,n){t.find("> .active").removeClass("active");var i=e.find("[data-toggle]"),a=i.data("url"),o=i.data("more"),r=i.attr("href");Ls.isEmpty(o)||y(o).attr("href",a||r.replace(/(#[^\s]*$)/,"")),e.addClass("active"),n&&n()};var e=function(e){e.preventDefault(),function(n){return this.each(function(){var e=y(this),t=e.data("ls.tab");t||e.data("ls.tab",t=new i(this)),"string"==typeof n&&t[n]()})}.call(y(this),"show")};return y(document).on("click.ls.tab",'[data-toggle="tab"]',e).on("mouseover.ls.tab",'[data-toggle="mouse"]',{type:"mouse"},e),this},scroll:function(){var d=y(".ls-scroll,.j-scroll");if(0<d.length){var p={};d.each(function(e,t){d.find(".ind_ztlist").before('<div style="height:1px;"></div>');var n=y(t),i=Ls.UUID(),a=Ls.parseOptions(n.data("setting")),o=y.extend(!0,{autoScroll:!0,ver:"v1",customWid:!1},a);if("v1"==o.ver){o.speed||(o.speed=3);var r=n.find(".scroll-body"),s=r.find("li"),l=(r.parent().width(),s.length,0);y.each(s,function(e,t){var n=y(t);l+=n.outerWidth(!0)}),r.width(l);var c=function(e){r.find("li").eq(0).appendTo(r);var t=r.find("li").eq(1).outerWidth(!0);r.css({"margin-left":+t}).stop(!0,!0).animate({"margin-left":0})};if(n.off(".scroll"),n.on("click.scroll.next",".next",c),n.on("click.scroll.prev",".prev",function(e){r.find("li:last").prependTo(r);var t=r.find("li:last").prev().outerWidth(!0);r.css({"margin-left":-t}).stop(!0,!0).animate({"margin-left":0})}),o.autoScroll){var u=n.data("intervalScroll");clearInterval(u),p[i]=setInterval(function(){c()},1e3*o.speed),n.on("mouseenter.scroll",function(){clearInterval(p[i])}).on("mouseleave.scroll",function(){p[i]=setInterval(function(){c()},1e3*o.speed),n.data("intervalScroll",p[i])}).data("intervalScroll",p[i])}}else"v2"==o.ver&&using("scroll",function(){n.cxScroll(o)})})}return this},myLinks:function(){var r=y(".myLinks,.j-links");return 0<r.length&&r.off(".links").on("click.links","dt",function(e){var t=y(this),n=t.next(),i=Ls.parseOptions(t.data("setting")),a=y.extend(!0,{showAnimate:"slideDown",hideAnimate:"slideUp",speed:200,show:function(e){e&&e[this.showAnimate](this.speed)},hide:function(e){e&&e[this.hideAnimate](this.speed)}},i);if(t.hasClass("active"))return!1;var o=r.find(".active").removeClass("active").next();a.hide(o),a.show(n),y("body").off("click.mylinks").on("click.mylinks",r,function(e){if(0==y(e.target).parents("dl").length){var t=r.find(".active").removeClass("active").next();setTimeout(function(){a.hide(t)},150)}}),t.addClass("active")}),this},myFloat:function(){var e=y(".myFloat,.j-float");if(0<e.length){var f={IsInitialized:!1,scrollX:0,scrollY:0,moveWidth:0,moveHeight:0,interval:{},getPageSize:function(){var e=y(window).width(),t=y(window).height(),n=y(document).width(),i=y(document).height();return new Array(n,i,e,t)},getPageScroll:function(){var e=y(document).scrollLeft(),t=y(document).scrollTop();return new Array(e,t)},Resize:function(){var e=f.getPageSize();f.moveWidth=e[2],f.moveHeight=e[3],f.Scroll()},Scroll:function(){var e=f.getPageScroll();f.scrollX=e[0],f.scrollY=e[1]}};function a(i){f.IsInitialized||(f.Resize(),f.IsInitialized=!0);var e=i.outerWidth(),t=i.outerHeight(),a=this,n=0==e?.5*f.moveWidth:f.moveWidth-e,o=f.moveHeight-t,r=n*Math.random(),s=o*Math.random(),l=(Math.random()+1)*Math.PI/6,c=Math.sin(l),u=Math.cos(l),d=Math.random()<.5?1:-1,p=Math.random()<.5?1:-1;a.setLocation=function(e,t){return r=e,s=t,a},a.setDirection=function(e,t){return d=e,p=t,a},a.method=function(){i.css({position:"absolute",top:s+f.scrollY,left:r+f.scrollX}).show();var e=i.outerWidth(),t=i.outerHeight();l=(Math.random()+1)*Math.PI/6,n=f.moveWidth-e,o=f.moveHeight-t,(r+=1*c*d)<0&&(d=1,r=0,c=Math.sin(l),u=Math.cos(l)),n<r&&(d=-1,r=n,c=Math.sin(l),u=Math.cos(l)),(s+=1*u*p)<0&&(p=1,s=0,c=Math.sin(l),u=Math.cos(l)),o<s&&(p=-1,s=o,c=Math.sin(l),u=Math.cos(l))},a.Run=function(e,t){var n=y.extend({delay:25},e);t=_.UUID(),f.interval[t]=setInterval(a.method,n.delay),i.off(".float").on("mouseenter.float",function(){clearInterval(f.interval[t])}).on("mouseleave.float",function(){f.interval[t]=setInterval(a.method,n.delay)}).data("UUID",t)}}e.each(function(e,t){var n=y(t),i=_.parseOptions(n.data("setting"));0<n.find("li").length?new a(n).Run(i):n.remove(),n.removeAttr("data-setting")}),y(document).off(".float").on("resize.float",function(){f.Resize()}).on("scroll.float",function(){f.Scroll()}).on("click.float",".float-close",function(){var e=y(this).parents(".myFloat,.j-float"),t=e.data("UUID");e.remove(),clearInterval(f.interval[t])})}return this},myCouplet:function(){var e=y(".myCouplet,.j-couplet");return 0<e.length&&e.each(function(e,t){var n=y(t);if(0<n.find("li").length){var i=_.parseOptions(n.data("setting")),a=y.extend(!0,{isAnimate:!1,topDistance:200,screenWidth:1024},i);screen.width>a.screenWidth&&n.show(),(Ls.isIE6||a.isAnimate)&&y(window).scroll(function(){var e=y(window).scrollTop();n.stop().animate({top:e+a.topDistance})}),n.off(".couplet").on("click.couplet",".couplet-close",function(){return n.remove(),!1})}else n.find(":contains({ls)")<=0&&n.remove();n.removeAttr("data-setting").data("isInit",!0)}),this},swfPlayer:function(){var e=y(".video-player,.j-video-player");return 0<e.length&&using("ckplayer",function(){e.each(function(e,t){var n=y(t),i=_.parseOptions(n.data("setting")),a=y.extend(!0,{f:n.data("url"),c:0,p:1,i:"",h5:!1,type:"",iframe:{id:"video_iframe",src:"",allowtransparency:"true",frameborder:"0",width:"300",height:"36",scrolling:"no"},width:n.data("width")||"600px",height:n.data("height")||"400px"},i);a.iframe.src=a.f;var o=_.UUID();n.attr("id",o).css({width:a.width,height:a.height,marginLeft:"auto",marginRight:"auto"});var r={bgcolor:"#FFF",allowFullScreen:!0,allowScriptAccess:"always",wmode:"transparent"},s=a.f.toLowerCase();if(/\.wmv/.test(s))n.html('<embed width="'+a.width+'" height="'+a.height+'" border="0" autostart="ture" loop="true" src="'+a.f+'"></embed>');else if(/\.swf/.test(s)){var l='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,16,0" width="'+a.width+' height="'+a.height+'">   <param name="movie" value="video-filename.swf">   <param name="quality" value="high">   <param name="play" value="true">   <param name="loop" value="false">   <embed src="video-filename.swf" width="'+a.width+'" height="'+a.height+'" play="true" loop="false" quality="high" pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash">   </embed></object>';n.html(l)}else if("iframe"==a.type){var c=y("<iframe>",a.iframe);n.html(c)}else if(a.h5){var u=[a.url+"->video/mp4"];CKobject.embedSWF("/assets/js/plugins/ckplayer/ckplayer.swf",o,"video_"+o,a.width,a.height,!1,a,u,r)}else CKobject.embedSWF("/assets/js/plugins/ckplayer/ckplayer.swf",o,"video_"+o,a.width,a.height,a,r);n.removeAttr("data-setting")})}),this},myMarquee:function(e,g){var t=y(e||".myMarquee:visible,.j-marquee:visible");if(0<t.length){var m=function(e,t,n){n.offsetWidth-e.scrollLeft<=0?e.scrollLeft-=t.offsetWidth:e.scrollLeft++},v={};t.each(function(e,t){var n=y(t),i=Ls.parseOptions(n.data("setting")),a=y.extend(!0,{simple:!1,speed:45,limit:!1,ver:"v1"},i);if("v2"==a.ver)return using("marqueeV2",function(){n.liMarquee(a)}),!0;if(!a.simple||n.data("intervalMarquee")&&!g){if(!n.data("intervalMarquee")||g){c=n.width();var o=n.height(),r=n.find("li");if(a.limit){if("top"==a.Direction||"bottom"==a.Direction){var s=r.length*r.eq(0).outerHeight(!0);if(a.limit&&s<=o)return!0}if("left"==a.Direction||"right"==a.Direction){var l=r.length*r.eq(0).outerWidth(!0);if(a.limit&&l<=c)return!0}}using("MSClass",function(){new Marquee(a)}),n.removeAttr("data-setting").data("intervalMarquee",!0)}}else{var c=n.parent().width(),u=n.find(".marquee1").children().outerWidth();if(a.limit&&u<c)return!0;var d=n.data("intervalMarquee");clearInterval(d);var p=Ls.UUID(),f=n.find(".marquee1"),h=n.find(".marquee2");h[0].innerHTML=f[0].innerHTML,v[p]=setInterval(function(){m(n[0],f[0],h[0])},a.speed),n.off(".marquee").on("mouseenter.marquee",function(e){clearInterval(v[p])}).on("mouseleave.marquee",function(e){v[p]=setInterval(function(){m(n[0],f[0],h[0])},a.speed),n.data("intervalMarquee",v[p])}).data("intervalMarquee",v[p])}})}return this},renderDate:function(){var e=y(".j-datetime");0<e.length&&using("moment",function(){e.each(function(e,t){var n=y(t),i=_.parseOptions(n.data("setting")),a=y.extend(!0,{format:"YYYY年MM月DD日 dddd",isSimple:!0,script:"",nl:!1,prefix:"今日是 ",nl_prefix:" 农历 "},i);a.isSimple&&n.html(a.prefix+""+moment().format(a.format)+(a.nl?a.nl_prefix+nlCalendar.getDate():""))})})}},_.www=P.www,(u.Ls=_).browser.isIE8OrLower)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}}(jQuery,window);