/*!
 * @license
 * @VERSION v2.0.0329
 * @AUTHOR:doocal
 * @DOOCAL AT QQ.COM
 */
if("undefined"==typeof jQuery)throw new Error("core requires jQuery");!function($,_win){function log(){window.console?Function.apply.call(console.log,console,arguments):(window.console={},console.log=function(e){$(_doc).ready(function(){var t=_doc.createElement("pre");t.className="mass_sys_log",t.innerHTML=e+"",_doc.body.appendChild(t)})})}var ME=this,_doc=_win.document,_storage=_win.localStorage,_body=_doc.body,_docMode=_doc.documentMode,_isStrict="CSS1Compat"==_doc.compatMode,_userAgent=navigator.userAgent.toLowerCase(),_language=navigator.language||navigator.browserLanguage,_isSecure=/^https/i.test(_win.location.protocol),_prototype=Object.prototype,_toString=_prototype.toString,_hasOwn=_prototype.hasOwnProperty,_array=Array.prototype,_aslice=_array.slice,_push=_array.push,_location=_win.location.href,_class2type={},_tmp={},_cache={};"Boolean Number String Function Array Date RegExp Object Error".replace(/[^, ]+/g,function(e){_class2type["[object "+e+"]"]=e.toLowerCase()}),function(e){function t(e){return e.replace(T,"").replace($,",").replace(b,"").replace(_,"").replace(x,"").split(S)}function n(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function i(e,i){function a(e){return d+=e.split(/\n/).length-1,u&&(e=e.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),e&&(e=v[1]+n(e)+v[2]+"\n"),e}function r(e){var n=d;if(l?e=l(e,i):o&&(e=e.replace(/\n/g,function(){return d++,"$line="+d+";"})),0===e.indexOf("=")){var a=p&&!/^=[=#]/.test(e);if(e=e.replace(/^=[=#]?|[\s;]*$/g,""),a){var r=e.replace(/\s*\([^\)]+\)/,"");h[r]||/^(include|print)$/.test(r)||(e="$escape("+e+")")}else e="$string("+e+")";e=v[1]+e+v[2]}return o&&(e="$line="+n+";"+e),w(t(e),function(e){if(e&&!f[e]){var t;t="print"===e?T:"include"===e?$:h[e]?"$utils."+e:g[e]?"$helpers."+e:"$data."+e,b+=e+"="+t+",",f[e]=!0}}),e+"\n"}var o=i.debug,s=i.openTag,c=i.closeTag,l=i.parser,u=i.compress,p=i.escape,d=1,f={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},m="".trim,v=m?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],y=m?"$out+=text;return $out;":"$out.push(text);",T="function(){var text=''.concat.apply('',arguments);"+y+"}",$="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+y+"}",b="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(o?"$line=0,":""),_=v[0],x="return new String("+v[3]+");";w(e.split(s),function(e){e=e.split(c);var t=e[0],n=e[1];1===e.length?_+=a(t):(_+=r(t),n&&(_+=a(n)))});var S=b+_+x;o&&(S="try{"+S+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+n(e)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var I=new Function("$data","$filename",S);return I.prototype=h,I}catch(L){throw L.temp="function anonymous($data,$filename) {"+S+"}",L}}var a=function(e,t){return"string"==typeof t?v(t,{filename:e}):s(e,t)};a.version="3.0.0",a.config=function(e,t){r[e]=t};var r=a.defaults={openTag:"<?",closeTag:"?>",escape:!0,cache:!0,compress:!1,parser:null},o=a.cache={};a.render=function(e,t){return v(e,t)};var s=a.renderFile=function(e,t){var n=a.get(e)||m({filename:e,name:"Render Error",message:"Template not found"});return t?n(t):n};a.get=function(e){var t;if(o[e])t=o[e];else if("object"==typeof document){var n=document.getElementById(e);if(n){var i=(n.value||n.innerHTML).replace(/^\s*|\s*$/g,"");t=v(i,{filename:e})}}return t};var c=function(e,t){return"string"!=typeof e&&(t=typeof e,"number"===t?e+="":e="function"===t?c(e.call(e)):""),e},l={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},u=function(e){return l[e]},p=function(e){return c(e).replace(/&(?![\w#]+;)|[<>"']/g,u)},d=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},f=function(e,t){var n,i;if(d(e))for(n=0,i=e.length;n<i;n++)t.call(e,e[n],n,e);else for(n in e)t.call(e,e[n],n)},h=a.utils={$helpers:{},$include:s,$string:c,$escape:p,$each:f};a.helper=function(e,t){g[e]=t};var g=a.helpers=h.$helpers;a.onerror=function(e){var t="Template Error\n\n";for(var n in e)t+="<"+n+">\n"+e[n]+"\n\n";"object"==typeof console&&console.error(t)};var m=function(e){return a.onerror(e),function(){return"{Template Error}"}},v=a.compile=function(e,t){function n(n){try{return new c(n,s)+""}catch(i){return t.debug?m(i)():(t.debug=!0,v(e,t)(n))}}t=t||{};for(var a in r)void 0===t[a]&&(t[a]=r[a]);var s=t.filename;try{var c=i(e,t)}catch(l){return l.filename=s||"anonymous",l.name="Syntax Error",m(l)}return n.prototype=c.prototype,n.toString=function(){return c.toString()},s&&t.cache&&(o[s]=n),n},w=h.$each,y="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",T=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,$=/[^\w$]+/g,b=new RegExp(["\\b"+y.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),_=/^\d[^,]*|,\d[^,]*/g,x=/^,+|,+$/g,S=/^$|,+/;e.template=a}(_win);var type=function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?_class2type[_toString.call(e)]||"object":typeof e},base=new function(){var e=function(){};return e.prototype={doTimeout:function(){function e(e){function t(){e?i.removeData(e):l&&delete _cache[l]}function n(){r.id=setTimeout(function(){r.fn()},u)}var i,a=this,r={},o=e?$.fn:$,s=arguments,c=4,l=s[1],u=s[2],p=s[3];if("string"!=typeof l&&(c--,l=e=0,u=s[1],p=s[2]),e?(i=a.eq(0),i.data(e,r=i.data(e)||{})):l&&(r=_cache[l]||(_cache[l]={})),r.id&&clearTimeout(r.id),delete r.id,p)r.fn=function(e){"string"==typeof p&&(p=o[p]),p.apply(a,_aslice.call(s,c))!==!0||e?t():n()},n();else{if(r.fn)return void 0===u?t():r.fn(u===!1),!0;t()}}return e.apply(_win,[0].concat(_aslice.call(arguments)))},center:function(){var e=this.el,t=$(_win).height(),n=$(_win).width(),i=e.outerWidth(!0),a=e.outerHeight(!0),r=e.css("position"),o=r?0:$(document).scrollTop(),s=r?0:$(document).scrollLeft(),c=382*(t-a)/1e3+o,l=(n-i)/2+s;return e.css({width:i,height:a,top:Math.max(parseInt(c),o)+"px",left:Math.max(parseInt(l),s)+"px"}),e},clientXY:function(e){var t,n,i,a;return t=$(_win).width()-e.clientX<this.outerWidth()?e.clientX-this.outerWidth():e.clientX,n=$(_win).height()-e.clientY<this.outerHeight()?e.clientY-this.outerHeight():e.clientY,i=$(document).scrollTop(),a=$(document).scrollLeft(),this.css({left:t+a,top:n+i}).show(),this}},e},browser=new function(e,t){var n,i,a,r,o,s,c,l={};return e=(e||navigator.userAgent).toLowerCase(),t=t||navigator.language||navigator.browserLanguage,a=/\sedge\//.test(e),n=a?(e.match(/(?:edge\/)([\d\.]*)/)||[])[1]:(e.match(/.*(?:rv|chrome|webkit|opera|ie)[\/: ](.+?)([ \);]|$)/)||[])[1],l.version=n,i=(e.match(/webkit\/(.+?) /)||[])[1],r=e.split(/\s*[;)(]\s*/)||[],o=r[1],iOSDeviceVersion=r[2].match(/(\w{1,})_(\w{1,})/i),s=iOSDeviceVersion?iOSDeviceVersion[1]:null,c=iOSDeviceVersion?iOSDeviceVersion[2]:null,l.windows=l.isWindows=!!/windows/.test(e),l.mac=l.isMac=!!/macintosh/.test(e)||/mac os x/.test(e)&&!/like mac os x/.test(e),l.lion=l.isLion=!(!/mac os x 10[_\.][7-9]/.test(e)||/like mac os x 10[_\.][7-9]/.test(e)),l.iPhone=l.isiPhone="iphone"===o,l.iPod=l.isiPod=o.indexOf("ipod")>-1,l.iPad=l.isiPad="ipad"===o,l.iOS=l.isiOS=l.iPhone||l.iPod||l.iPad,l.iOSMajorVersion=l.iOS?1*s:void 0,l.iOSMinorVersion=l.iOS?1*c:void 0,l.android=l.isAndroid=!!/android/.test(e),l.silk=l.isSilk=!!/silk/.test(e),l.opera=/opera/.test(e)?n:0,l.isOpera=!!l.opera,l.msie=/msie \d+\.\d+|trident\/\d+\.\d.*; rv:\d+\.\d+[;\)]/.test(e)&&!l.opera?n:0,l.isIE=!!l.msie,l.isIE6=!(!l.msie||6!==parseInt(l.msie,10)),l.isIE7OrLower=!!(l.msie&&parseInt(l.msie,10)<=7),l.isIE8OrLower=!!(l.msie&&parseInt(l.msie,10)<=8),l.isIE9OrLower=!!(l.msie&&parseInt(l.msie,10)<=9),l.isIE10OrLower=!!(l.msie&&parseInt(l.msie,10)<=10),l.isIE10=!(!l.msie||10!==parseInt(l.msie,10)),l.isIE11=!(!l.msie||11!==parseInt(l.msie,10)),l.edge=a?n:0,l.isEdge=a,l.mozilla=a||!/mozilla/.test(e)||/(compatible|webkit|msie|trident)/.test(e)?0:n,l.isMozilla=!!l.mozilla,l.webkit=!a&&/webkit/.test(e)?i:0,l.isWebkit=!!l.webkit,l.chrome=!a&&/chrome/.test(e)?n:0,l.isChrome=!!l.chrome,l.mobileSafari=/apple.*mobile/.test(e)&&l.iOS?i:0,l.isMobileSafari=!!l.mobileSafari,l.iPadSafari=l.iPad&&l.isMobileSafari?i:0,l.isiPadSafari=!!l.iPadSafari,l.iPhoneSafari=l.iPhone&&l.isMobileSafari?i:0,l.isiPhoneSafari=!!l.iphoneSafari,l.iPodSafari=l.iPod&&l.isMobileSafari?i:0,l.isiPodSafari=!!l.iPodSafari,l.isiOSHomeScreen=l.isMobileSafari&&!/apple.*mobile.*safari/.test(e),l.safari=!l.webkit||l.chrome||l.iOS||l.android?0:i,l.isSafari=!!l.safari,l.language=t.split("-",1)[0],l.current=l.edge?"edge":l.msie?"msie":l.mozilla?"mozilla":l.chrome?"chrome":l.safari?"safari":l.opera?"opera":l.mobileSafari?"mobile-safari":l.android?"android":"unknown",l},cache=new function(){function e(e){this.size=0,this.limit=e,this.head=this.tail=void 0,this._keymap={}}return e.prototype={put:function(e,t){var n={key:e,value:t};return this._keymap[e]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit?this.shift():this.size++,t},shift:function(){var e=this.head;e&&(this.head=this.head.newer,this.head.older=e.newer=e.older=this._keymap[e.key]=void 0)},get:function(e){var t=this._keymap[e];if(void 0!==t)return t===this.tail?t.value:(t.newer&&(t===this.head&&(this.head=t.newer),t.newer.older=t.older),t.older&&(t.older.newer=t.newer),t.newer=void 0,t.older=this.tail,this.tail&&(this.tail.newer=t),this.tail=t,t.value)},remove:function(e){var t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.head=t.newer):t.older?(t.older.newer=void 0,this.tail=t.older):this.head=this.tail=void 0,this.size--,t.value},removeAll:function(){this.head=this.tail=void 0,this.size=0,this._keymap={}}},e},tips=new function(){var e=function(){this.init.apply(this,arguments)},t={setOptions:function(e){if(this.options={icons:"success",times:2,autoClose:!0,callback:function(){}},e)for(var t in e)this.options[t]=e[t]},init:function(e,t){TT.isFunction(t)&&(t.callback=t);var n=this,i=$.Deferred();n.setOptions(t);var a='<div id="tips_box">   <div class="tips_body">     <div class="tips_icons tips_'+this.options.icons+'"></div>     <span>'+e+"</span>   </div></div>";return $("#tips_box").remove(),n.el=$(a).appendTo("body"),$(window).resize(function(e){n.doTimeout("tips_resize",250,function(){n.center()})}),n.center().width(n.el.outerWidth()).show(),_win.clearTimeout(_cache._timeout),n.options.autoClose?_cache._timeout=setTimeout(function(){$.isFunction(n.options.callback)&&n.options.callback.call(n),n.el.remove(),i.resolve(n,n.options)},1e3*parseInt(n.options.times)):i.resolve(n,n.options),i.promise()},hide:function(){_win.clearTimeout(_cache._timeout),this.el.remove()}};return e.prototype=$.extend(t,new base),e},url=new function(){var e=function(){};return e.prototype={queryString:function(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)"),i=n.exec(location.search),a=null;return null===i?"":(a=i[1].replace(/\+/g," "),t?a:decodeURIComponent(a))},parseQuery:function(e){var t={};if("string"!=typeof e&&(e=window.location.search),e=e.replace(/^\?/g,""),!e)return{};for(var n,i=e.split("&"),a=0;a<i.length;++a)n=i[a].indexOf("="),n<0&&(n=i[a].length),t[decodeURIComponent(i[a].slice(0,n))]=decodeURIComponent(i[a].slice(n+1));return t},stringify:function(e){if(!e||e.constructor!==Object)throw new Error("Query object should be an object.");var t="";for(var n in e)t+=n+"="+encodeURIComponent(e[n])+"&";return t=t.replace(/\&$/g,"")},updateSearchParam:function(e,t){var n=this.parseQuery();if(void 0===t)delete n[e];else{if(t=encodeURIComponent(t),n[e]===t)return _location;n[e]=t}var i="?"+stringify(n);return window.history.replaceState(null,"",i+location.hash),_location},get:function(e,t){var n=this.parseQuery(t)[e];return Ls.isEmpty(n)?"":n}},e},openWin=new function(){var e=function(){this.open.apply(this,arguments)};return e.prototype={setOptions:function(e){if(this.options={id:"win",winType:1,name:_win,title:"",width:400,height:350,resizable:"yes",scroll:"yes",status:"no",menubar:"no",toolbar:"no",location:"yes",menu:"no",lock:!0,min:!1,max:!1,fixed:!0,data:null,close:""},e)for(var t in e)this.options[t]=e[t]},open:function(e,t,n,i){var a=this;if(TT.isObject(e)&&(i=e,e="",t="",n=""),TT.isObject(t)&&(i=t,t=""),TT.isObject(n)&&(i=n,n=""),a.setOptions(i),a.url=e,a.name=a.options.name,a.winType=a.options.winType,a.options.width=t||a.options.width,a.options.height=n||a.options.height,a.lock=a.options.lock,a.close=a.options.close,2==a.winType||3==a.winType){var r=_win.screen.availHeight,o=_win.screen.availWidth,s=(a.options.width+"").replace(/px/gi,""),c=(a.options.height+"").replace(/px/gi,"");!a.options.top&&(a.options.top=(r-c)/2),!a.options.left&&(a.options.left=(o-s)/2)}switch(a.winType){case 1:return a.dialog(a.url,a.options);case 2:return a.winOpen(a.url,a.options);case 3:return a.modalDialog(a.url,a.options)}},dialog:function(e,t){var t=$.extend(!0,{cache:!1,upload_settings:{},data:""},t);return art.dialog.data("dialog_data",t.data),art.dialog.data("upload_settings",t.upload_settings),e?art.dialog.open(e,t,t.cache):art.dialog(t)},winOpen:function(e,t){var n="resizable="+t.resizable+",scrollbars="+t.scroll+",status="+t.status+",toolbar="+t.toolbar+",location="+t.location+",menu="+t.menu+",left="+t.left+",top="+t.top+",width="+t.width+",height="+t.height,i=_win.open(e,t.name,n);return TT.isFunction(this.close)&&this.close.call(this,_win),i},modalDialog:function(e,t){var n,i="scroll:"+t.scroll+";resizable:"+t.resizable+";help:"+t.help+";status:"+t.status+";center:"+t.center+";dialogHeight:"+t.height+";dialogWidth:"+t.width+";dialogTop:"+t.top+";dialogLeft:"+t.left,a={opener:_win,data:t.data,winType:3};return n=browser.isIE&&this.lock?_win.showModalDialog(e,a,i):_win.showModelessDialog(e,a,i),TT.isFunction(this.close)&&this.close.call(this,n),n}},e},dragDrop=new function(){var e=function(){this.init.apply(this,arguments)};return e.prototype={setOptions:function(e){if(this.options={limit:!0,handle:null,container:"",maxTop:0,maxLeft:0,maxRight:9999,maxBottom:9999,maxContainer:null,lock:!1,lockX:!1,lockY:!1,onStart:null,onMove:null,onStop:null,isMove:!1,getGhost:null,getHolder:null,selectArea:null},e)for(var t in e)this.options[t]=e[t]},init:function(e,t){var n=this;return n.$drag=$(e),n.drag=n.$drag[0],n.clientX=0,n.clientY=0,n.mousemove=function(e){n.move(e)},n.mouseup=function(e){n.stop(e)},n.setOptions(t),n.$drag=!n.options.$drag&&n.$drag,n.limit=n.options.limit,n.maxTop=n.options.maxTop,n.maxLeft=n.options.maxLeft,n.maxRight=n.options.maxRight,n.maxBottom=n.options.maxBottom,n.$maxContainer=n.options.maxContainer&&$(n.options.maxContainer),n.lock=n.options.lock,n.lockX=n.options.lockX,n.lockY=n.options.lockY,n.onStart=n.options.onStart,n.onMove=n.options.onMove,n.onStop=n.options.onStop,n.getGhost=n.options.getGhost,n.getHolder=n.options.getHolder,n.selectArea=n.options.selectArea,n.$handle=n.options.handle&&$(n.options.handle)||n.$drag,n.handle=n.$handle[0],!!n.$handle&&(n._repair(),void n.$handle.on("mousedown.drag",function(e){e.preventDefault(),e.stopPropagation(),n.start(e)}))},start:function(e){var t,n,i;t=this,n=$.event.fix(e),t._repair(),i=t.$handle.offset(),t.offsetLeft=i.left,t.offsetTop=i.top,t.clientX=n.clientX-t.offsetLeft,t.clientY=n.clientY-t.offsetTop,$(_doc).on("mousemove.drag",t.mousemove).on("mouseup.drag",t.mouseup),browser.isIE?(t.$handle.on("losecapture.drag",t.mouseup),t.handle.setCapture()):($.event.add(_win,"blur",t.mouseup),n.preventDefault()),t.onStart&&t.onStart.call(this,n)},move:function(e){var t,n;if(t=this,_win.getSelection?_win.getSelection().removeAllRanges():_doc.selection.empty(),t.lock)return t.stop(e),!1;if(n=$.event.fix(e),t.top=n.clientY-t.clientY,t.left=n.clientX-t.clientX,t.limit){var i,a,r,o;a=t.maxLeft,r=t.maxRight,i=t.maxTop,o=t.maxBottom,t.$maxContainer&&(i=Math.max(i,0),a=Math.max(a,0),r=Math.min(r,t.$maxContainer.width()),o=Math.min(o,t.$maxContainer.height())),t.left=Math.max(Math.min(t.left,r-t.$drag.outerWidth(!0)),a),t.top=Math.max(Math.min(t.top,o-t.$drag.outerHeight(!0)),i)}var s=$(_doc).scrollTop();t.$drag.css({left:function(e,n){if(!t.lockX)return t.left},top:function(e,n){if(!t.lockY)return s+t.top}}),t.onMove&&t.onMove.call(this,n)},stop:function(e){var t,n;t=this,n=$.event.fix(e),$(_doc).off(".drag"),browser.isIE?(t.$handle.off("losecapture.drag",t.mouseup),t.handle.releaseCapture()):$.event.remove(_win,"blur",t.mouseup),t.onStop&&t.onStop.call(this,n)},_repair:function(e){var t=this,n=!t.$maxContainer||t.$maxContainer.css("position");t.limit&&(t.maxRight=Math.max(t.maxRight,t.maxLeft+t.$drag.outerWidth(!0)),t.maxBottom=Math.max(t.maxBottom,t.maxTop+t.$drag.outerHeight(!0)),"relative"!=n&&"absolute"!=n||t.$maxContainer.css("position","relative"))}},e},pagination=new function(){var e=function(){return this.init.apply(this,arguments)};return e.prototype={setOptions:function(e){this.options={total:0,currPage:1,pageSize:10,pageCount:10,pageNumber:5,callback:$.noop,isTotal:!1,isJump:!0,isNum:!0,isNext:!0,isPrev:!0,isFirst:!0,isLast:!0,isGoBtn:!1,sizeList:[],changeCallBack:$.noop,tpl:{first:"首页",last:"尾页",next:"下一页",prev:"上一页",links:"javascript:void(0)",inputInfo:"{sizelist}跳{input}{gobtn}/{sumPage}页",goBtnText:"GO"}},this.options=$.extend(!0,this.options,e)},init:function(e,t){var n=this;return n.$el=$(e),n.setOptions(t),n.render().bindFn(),n},render:function(){var e=this;return e.$el.html(e.createPageBar()),e},bindFn:function(){var e=this;return e.$el.off().on("click.pagination",">a",function(t){t.preventDefault();var n=$(this),i=parseInt(n.attr("paged")),i=i>0?i:1;e.setPage(i).options.callback.call(this,i)}).on("keydown.pagination","input",function(t){var n=$.trim($(this).val());if(13==t.which){var i=/^\+?[0-9][0-9]*$/;i.test(n)&&n>0&&(n=n>e.options.pageCount?e.options.pageCount:n,e.setPage(n).options.callback.call(this,n))}}).on("click.btn","button",function(e){var t=$(this).prev("input"),n=$.trim(t.val()),i=/^\+?[0-9][0-9]*$/;if(i.test(n)&&n>0){var e=jQuery.Event("keydown");e.keyCode=13,t.tigger(e)}}).on("change.pagination","select",function(t){var n=$.trim($(this).val());e.options.changeCallBack.call(this,n)}),e.$el.find("select").val(e.options.pageSize),e},setPage:function(e){var t=this;return t.currPage=t.options.currPage=e,t},reload:function(e,t){var n=this;return n.options.pageCount=t||0,n.options.currPage=e||0,n.render().bindFn(),n},getPage:function(){return this.currPage},createPageBar:function(){var e=this,t=e.options,n=t.tpl.links;e.currPage=t.currPage=t.currPage>t.pageCount?t.pageCount:t.currPage;var i=t.currPage,a=parseInt(t.pageCount),r=parseInt(t.pageNumber/2),o=t.pageNumber,s="";if(1==i?(t.isFirst&&(s+='<span class="disabled" paged="1">'+t.tpl.first+" </span>"),t.isPrev&&(s+='<span class="disabled" paged="'+t.tpl.prev+'">'+t.tpl.prev+" </span>")):(t.isFirst&&(s='<a href="'+n+'" paged="1">'+t.tpl.first+"</a>"),t.isPrev&&(s+='<a href="'+n+'" paged="'+(i-1)+'">'+t.tpl.prev+" </a>")),t.isNum){var c=lastPage=1;for(c=i-r>0?c=i-r:1,c+o>a?(lastPage=a+1,c=lastPage-o):lastPage=c+o,0>=c&&(c=1),c;lastPage>c;c++)s+=c==i?'<span class="current" paged="'+c+'">'+c+"</span>":"<a href='"+n+"' paged='"+c+"'>"+c+"</a>"}return i==a?(t.isNext&&(s+='<span class="disabled" paged="'+t.tpl.next+'">'+t.tpl.next+" </span>"),t.isLast&&(s+='<span class="disabled" paged="'+t.tpl.last+'">'+t.tpl.last+" </span>")):(t.isNext&&(s+='<a href="'+n+'" paged="'+(i+1)+'">'+t.tpl.next+"</a>"),t.isLast&&(s+="<a href='"+n+"' paged='"+a+"'>"+t.tpl.last+"</a>")),t.isJump&&(s+=this.createPageInputBar()),t.isTotal&&(s+=' <span class="total">共 '+t.total+" 条</span>"),e.pageBar=s},createSizeList:function(){for(var e=this,t=e.options,n=[],i=0,a=t.sizeList.length;i<a;i++){var r=t.sizeList[i];n.push('<option value="'+r+'">'+r+"</option>")}return'<span class="pagesize"><select class="select">'+n.join("")+"</select></span>"},createPageInputBar:function(){var e=this,t=e.options,n='<input type="text" value="'+t.currPage+'" >',i="<button>"+t.tpl.goBtnText+"</button>",a=$("<span/>").attr({title:"回车分页"}).addClass("inputBar").html(function(){var a=t.tpl.inputInfo.replace("{input}",n).replace("{gobtn}",t.isGoBtn?i:"").replace("{sumPage}",t.pageCount).replace("{sizelist}",TT.isArray(t.sizeList)&&t.sizeList.length>0?"每页"+e.createSizeList()+"条":"");return a});return a.prop("outerHTML")}},e},TT=function(e,t){return new TT.fn.init(e,t)};TT.fn=TT.prototype={version:"1.4.1",init:function(e,t){return $(e,t)}},TT.fn.init.prototype=TT.fn,TT.extend=TT.fn.extend=$.extend,TT.extend({log:log,browser:browser,type:function(e){return type(e)},nowDate:function(){return new Date},now:function(){return(new Date).getTime()},error:function(e){throw new Error(e)},randomNum:function(e,t){var n=t-e,i=Math.random();return e+Math.round(i*n)},UUID:function(e){return e=e||"UUID",String(Math.random()+Math.random()).replace(/\d\.\d{4}/,e)},isWindow:function(e){return e&&e.document&&e.location&&e.alert&&e.setInterval},isObject:function(e){return"object"==type(e)},isFunction:function(e){return"function"==type(e)},isDate:function(e){return"date"==type(e)},isNumber:function(e){return"number"==type(e)},isString:function(e){return"string"==type(e)},isDefined:function(e){return"undefined"!=type(e)},isUndefined:function(e){return"undefined"==type(e)},isArray:function(e){return"array"==type(e)},isBoolean:function(e){return"boolean"==type(e)},isEmpty:function(e,t){return null===e||void 0===e||this.isArray(e)&&!e.length||!t&&""===e},isElement:function(e){return!!e&&!!e.tagName},trim:function(e){if(!" ".trim){var t=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;String.prototype.trim=function(){return this.replace(t,"")}}return e.trim()},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}}),TT.extend({toCurrency:function(e){return e=parseFloat(e,10).toFixed(2),"NaN"==e?"0.00":e},valid:function(){var _this={require:/.+/,email:/^[\w\+\-]+(\.[\w\+\-]+)*@[a-z\d\-]+(\.[a-z\d\-]+)*\.([a-z]{2,4})$/,phone:/^((\(\d{2,3}\))|(\d{3}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,4})?$/,mobile:/^13[0-9]{9}|15[012356789][0-9]{8}|18[0256789][0-9]{8}|147[0-9]{8}$/,url:/^(https?|s?ftp):\/\/\S+$/i,cy:/^\d+(\.\d+)?$/,number:/^\d+$/,zip:/^[1-9]\d{5}$/,qq:/^[1-9]\d{4,12}$/,"int":/^[-\+]?\d+$/,dbl:/^[-\+]?\d+(\.\d+)?$/,en:/^[A-Za-z]+$/,zh:/^[\u0391-\uFFE5]+$/,username:/^[a-z]\w{3,}$/i,safe:/^(([A-Z]*|[a-z]*|\d*|[-_\~!@#\$%\^&\*\.\(\)\[\]\{\}<>\?\\\/\'\"]*)|.{0,5})$|\s/,IsSafe:function(e){return!this.safe.test(e)},IdCard:function(e){return this.IsIdCard(e)},date:function(e){return!this.IsDate(e)},custom:function(e){return this.exec(value)},IsIdCard:function(e){var t,n,i="10x98765432",a=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],r=["","","","","","","","","","","","北京","天津","河北","山西","内蒙古","","","","","","辽宁","吉林","黑龙江","","","","","","","","上海","江苏","浙江","安微","福建","江西","山东","","","","河南","湖北","湖南","广东","广西","海南","","","","重庆","四川","贵州","云南","云南","","","","","","","陕西","陕西","陕西","宁夏","新疆","","","","","","新疆","","","","","","","","","","新疆","澳门","","","","","","","","","国外"],o=e.match(/^(\d{2})\d{4}(((\d{2})(\d{2})(\d{2})(\d{3}))|((\d{4})(\d{2})(\d{2})(\d{3}[x\d])))$/i);if(null==o)return!1;if(o[1]>=r.length||""==r[o[1]])return!1;if(12==o[2].length?(n=e.substr(0,17),t=[o[9],o[10],o[11]].join("-")):(n=e.substr(0,6)+"19"+e.substr(6),t=["19"+o[4],o[5],o[6]].join("-")),!this.IsDate(t,"ymd"))return!1;for(var s=0,c=0;c<=16;c++)s+=n.charAt(c)*a[c];return n+=i.charAt(s%11),15==e.length||18==e.length&&e==n},IsDate:function(e,t){function n(e){return(e<30?"20":"19")+e|0}t=t||"ymd";var i,a,r,o;switch(t){case"ymd":if(i=e.match(new RegExp("^((\\d{4})|(\\d{2}))([-./])(\\d{1,2})\\4(\\d{1,2})$")),null==i)return!1;o=i[6],r=1*i[5],a=4==i[2].length?i[2]:n(parseInt(i[3],10));break;case"dmy":if(i=e.match(new RegExp("^(\\d{1,2})([-./])(\\d{1,2})\\2((\\d{4})|(\\d{2}))$")),null==i)return!1;o=i[1],r=1*i[3],a=4==i[5].length?i[5]:n(parseInt(i[6],10))}if(!parseInt(r))return!1;r=0==r?12:r;var s=new Date(a,r-1,o);return"object"==typeof s&&a==s.getFullYear()&&r==s.getMonth()+1&&o==s.getDate()},valid:function(value,vtype){if("object"==type(this[vtype])||"undefined"==this[vtype])return!1;switch(vtype){case"IdCard":case"date":case"IsSafe":case"custom":return!eval(this[vtype]);default:return!this[vtype].test(value)}},exec:function(e,t){return new RegExp(t,"g").test(e)}};return _this.valid(v,d)}}),TT.extend({clone:function(e){return $.extend(!0,{},e)},data:function(e,t){return TT.isEmpty(t)?_storage.getItem(e):void _storage.setItem(e,t)},removeData:function(e){TT.isEmpty(e)?_storage.clear():_storage.removeItem(e)},clearData:function(){_storage.clear()},cookies:function(e,t,n){if("undefined"==typeof t){var i=null;if(document.cookie&&""!=document.cookie)for(var a=document.cookie.split(";"),r=0;r<a.length;r++){var o=TT.trim(a[r]);if(o.substring(0,e.length+1)==e+"="){i=decodeURIComponent(o.substring(e.length+1));break}}return i}n=n||{},null===t&&(t="",n.expires=-1);var s="";if(n.expires&&("number"==typeof n.expires||n.expires.toUTCString)){var c;"number"==typeof n.expires?(c=new Date,c.setTime(c.getTime()+24*n.expires*60*60*1e3)):c=n.expires,s="; expires="+c.toUTCString()}var l=n.path?"; path="+n.path:"",u=n.domain?"; domain="+n.domain:"",p=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),s,l,u,p].join("")},preloadImages:function(){var e=document;if(e.images){e.MM_p||(e.MM_p=new Array);var t,n=e.MM_p.length,i=preloadImages.arguments;for(t=0;t<i.length;t++)0!=i[t].indexOf("#")&&(e.MM_p[n]=new Image,e.MM_p[n++].src=i[t])}},loadJs:function(e,t,n){var i=this.getFileName(e),a=cacheJS.get(i);if(a)t&&t();else{n=n||{async:!0,charset:"utf-8"};var r=_doc.getElementsByTagName("head")[0]||_doc.documentElement,o=_doc.createElement("script");o.type="text/javascript",o.src=e,n.charset&&(o.charset=n.charset),o.onload=o.onreadystatechange=function(){var e=o.readyState;if("undefined"==typeof e||"loaded"===e||"complete"===e)try{t&&t()}finally{o.onload=o.onreadystatechange=null,o=null}},o.src=e,r.appendChild(o),cacheJS.put(i,e)}},nextTick:new function(){function e(){for(var e=i.length,t=0;t<e;t++)i[t]();i=i.slice(e)}var t=window.setImmediate,n=window.MutationObserver;if(t)return t.bind(window);var i=[];if(n){var a=document.createTextNode("avalon");return new n(e).observe(a,{characterData:!0}),function(e){i.push(e),a.data=Math.random()}}return window.VBArray?function(t){i.push(t);var n=DOC.createElement("script");n.onreadystatechange=function(){e(),n.onreadystatechange=null,head.removeChild(n),n=null},head.appendChild(n)}:function(e){setTimeout(e,5)}},compile:function(e,t){return template.compile(e,t)},template:function(e,t){return template(e,t)},strLen:function(e){if(!TT.isEmpty(e)){for(var t=0,n=(e+"").length,i=0;i<n;i++)a=e.charAt(i),t++,escape(a).length>4&&t++;return t}},cutstr:function(e,t,n){if(!TT.isEmpty(e)){var i=0,n=n?n:"...",r=new String,o=(e+"").length;t*=2;for(var s=0;s<o;s++)if(a=e.charAt(s),i++,escape(a).length>4&&i++,r=r.concat(a),i>=t)return r=r.concat(n);return i<t?e:void 0}},dateFormat:function(e,t){if(TT.isEmpty(e)&&!TT.isString(e))t="";else{TT.isString(e)&&(e=new Date(e.replace(/-/g,"/")));var n={M:e.getMonth()+1,d:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds(),q:Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};t=t.replace(/([yMdhmsqS])+/g,function(t,i){var a=n[i];return void 0!==a?(t.length>1&&(a="0"+a,a=a.substr(a.length-2)),a):"y"===i?(e.getFullYear()+"").substr(4-t.length):t})}return t},dateDiff:function(e){var t,n,i,a,r=parseInt((new Date).getTime()/1e3);return a=r-new Date(Date.parse(e.replace(/-/g,"/"))).getTime()/1e3,i=parseInt(a/86400),n=parseInt(a/3600),t=parseInt(a/60),a<60?t+"秒前":i>0&&i<4?i+"天前":i<=0&&n>0?n+"小时前":n<=0&&t>0?t+"分钟前":Ls.dateFormat(e,"MM月dd日")},formatSeconds:function(e){var t=parseInt(e),n=0,i=0,a=0;t>1e3&&(n=parseInt(t/1e3),n>60&&(i=parseInt(n/60),n=parseInt(n%60),i>60&&(a=parseInt(i/60),i=parseInt(i%60))));var r=""+parseInt(t)+" 毫秒";return n>0&&(r=""+parseInt(n)+" 秒"),i>0&&(r=""+parseInt(i)+" 分"+r),a>0&&(r=""+parseInt(a)+" 小时"+r),r},str2Json:function(e){for(var t="",n=0;n<e.length;n++)switch(c=e.charAt(n),c){case'"':t+='\\"';break;case"\\":t+="\\\\";break;case"/":t+="\\/";break;case"\b":t+="\\b";break;case"\f":t+="\\f";break;case"\n":t+="\\n";break;case"\r":t+="\\r";break;case"\t":t+="\\t";break;default:t+=c}return t},textAreaHtml:function(e){return e?e.replaceAll("\\n","<br/>").replaceAll(" ","&nbsp"):""},asyncQueue:function(){var e,t,n,a,r,o=this,s=[],c=!1,l=0,u=10;return a=function(){var e=s.shift();e&&(l++,setTimeout(function(){e.fn.apply(o,[o]),e.isParallel||c===!1&&a(),l--,0==l&&0==s.length&&r()},e.timeOut),e.isParallel&&c===!1&&a())},r=function(){e&&e.apply(o,[o])},this.onComplete=function(t){e=t},this.onFailure=function(e){t=e},this.add=function(e){var t=arguments[0];if(t&&"[object Array]"===Object.prototype.toString.call(t)){var n=arguments[1],i="undefined"!=typeof arguments[2]?arguments[2]:u;if("function"==typeof n)for(var a=0;a<t.length;a++){(function(e){s.push({isParallel:!0,fn:function(){n.apply(o,[o,e])},timeOut:i})})(t[a])}}else{var n=arguments[0],i="undefined"!=typeof arguments[1]?arguments[2]:u;s.push({isParallel:!1,fn:e,timeOut:i})}return this},this.addParallel=function(e,t){return s.push({isParallel:!0,fn:e,timeOut:t}),this},this.storeData=function(e){return n=e,this},this.lastCallbackData=function(){return n},this.run=function(){c=!1,a()},this.pause=function(){return c=!0,this},this.failure=function(){if(c=!0,t){var e=[o];for(i=0;i<arguments.length;i++)e.push(arguments[i]);t.apply(o,e)}},this.size=function(){return s.length},this},base64:function(){return{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,i,a,r,o,s,c="",l=0;for(e=this._utf8_encode(e);l<e.length;)t=e.charCodeAt(l++),n=e.charCodeAt(l++),i=e.charCodeAt(l++),a=t>>2,r=(3&t)<<4|n>>4,o=(15&n)<<2|i>>6,s=63&i,isNaN(n)?o=s=64:isNaN(i)&&(s=64),c=c+this._keyStr.charAt(a)+this._keyStr.charAt(r)+this._keyStr.charAt(o)+this._keyStr.charAt(s);return c},decode:function(e){var t,n,i,a,r,o,s,c="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)a=this._keyStr.indexOf(e.charAt(l++)),r=this._keyStr.indexOf(e.charAt(l++)),o=this._keyStr.indexOf(e.charAt(l++)),s=this._keyStr.indexOf(e.charAt(l++)),t=a<<2|r>>4,n=(15&r)<<4|o>>2,i=(3&o)<<6|s,c+=String.fromCharCode(t),64!=o&&(c+=String.fromCharCode(n)),64!=s&&(c+=String.fromCharCode(i));return c=this._utf8_decode(c)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},_utf8_decode:function(e){for(var t="",n=0,i=c1=c2=0;n<e.length;)i=e.charCodeAt(n),i<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),n+=3);return t}}}(),getFileName:function(e){var t=e.lastIndexOf("/");return e.substring(t+1)},getDomain:function(){var e=(document.domain,location.protocol+"//"+window.location.host);return e}(),getLocation:function(){var e=window.location,t=e.hash,n=(e.host,e.hostname),i=e.pathname,a=e.port,r=e.protocol,o=r+"//"+n+(a?":"+a:""),s={fullUrl:o+i+t,url:o};return s}()}),TT.extend({url:new function(){return new url},tips:function(e,t){return new tips(e,t)},tipsOk:function(e,t){return new tips(e,$.extend(!0,t,{icons:"success"}))},tipsErr:function(e,t){return new tips(e,$.extend(!0,t,{
icons:"error"}))},tipsInfo:function(e,t){return new tips(e,$.extend(!0,t,{icons:"info"}))},tipsLoading:function(e,t){return new tips(e,$.extend(!0,t,{icons:"loading"}))},openWin:function(e,t,n,i){return new openWin(e,t,n,i)},dragDrop:function(e,t){return new dragDrop(e,t)}}),TT.extend({ajaxText:function(e){var t=$.extend(!0,e,{type:"GET",dataType:"TEXT"});return Ls.ajax(t)},ajaxGet:function(e){var t=$.extend(!0,e,{type:"GET"});return Ls.ajax(t)},ajax:function(e){var t={type:"POST",dataType:"JSON"},n=$.extend(!0,t,e);return""==n.url?(TT.tipsErr("请求地址不能为空！"),!1):(n.url=GLOBAL_CONTEXTPATH+""+n.url+(/\?/.test(n.url)?"&":"?")+"IsAjax=1&dataType="+n.dataType,$.ajax(n).fail(function(e){TT.tips("请求出错！",{icons:"error"})}).always(function(){$("#ajax_tip").remove(),$("[ms-controller]").css("visibility","visible")}))},chkAll:function(e,t,n){var i={};return void 0==n?i=e.checked?$("input[name='"+t+"']").each(function(){$(this).prop("checked",!0)}):$("input[name='"+t+"']").each(function(){$(this).prop("checked",!1)}):1==n&&(i=$("input[name='"+t+"']").each(function(){var e=$(this);e.prop("checked",!this.checked)})),i},injectTplVal:function(){template.helper("GLOBAL_CONTEXTPATH",GLOBAL_CONTEXTPATH||""),template.helper("GLOBAL_FILESERVERPATH",GLOBAL_FILESERVERPATH||""),template.helper("GLOBAL_HTMLFILEPATH",GLOBAL_HTMLFILEPATH||""),template.helper("GLOBAL_SITEURI",GLOBAL_SITEURI||""),template.helper("GLOBAL_RIGHTS",GLOBAL_RIGHTS||"")},stope:function(e){e=e||win.event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},parseOptions:function(e){if(e){"{"!=e.substring(0,1)&&(e="{"+e+"}");try{return new Function("return "+e)()}catch(t){log(e)}}}}),$.fn.extend({getCheckBoxArr:function(e){var t=[];return $(this).each(function(n,i){i.checked=e,e&&t.push(i.value)}),t},getFromJSON:function(){var e={};return $.each(this.serializeArray(),function(t){var n=this;e[n.name]?e[n.name]=e[n.name]+","+n.value:e[n.name]=n.value}),e},getChecked:function(){var e=$(this).map(function(){return this.value}).get().join(",");return e},serializeObject:function(){var e={},t=this.serializeArray();return $.each(t,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},scrollLoading:function(e){var t={attr:"data-url",container:$(window),callback:$.noop},n=$.extend({},t,e||{});n.cache=[],$(this).each(function(){var e=this.nodeName.toLowerCase(),t=$(this).attr(n.attr),i={obj:$(this),tag:e,url:t};n.cache.push(i)});var i=function(e){$.isFunction(n.callback)&&n.callback.call(e.get(0))},a=function(){var e,t=n.container.height();e=$(window).get(0)===window?$(window).scrollTop():n.container.offset().top,$.each(n.cache,function(n,a){var r,o,s=a.obj,c=a.tag,l=a.url;s&&(r=s.offset().top-e,r+s.height(),(r>=0&&r<t||o>0&&o<=t)&&(l?"img"===c?i(s.attr("src",l)):s.load(l,{},function(){i(s)}):i(s),a.obj=null))})};a(),n.container.off("scroll.loading").on("scroll.loading",a)},screenWidth:function(){return 800==_win.screen.width?800:1024==_win.screen.width?1024:1280==_win.screen.width?1280:void 0}}),TT.extend({pagination:function(e,t,n,i){var i=i||$("#pagination"),e=e||0;e>0?i.pagination(e,{num_edge_entries:1,num_display_entries:4,callback:n,items_per_page:1,prev_text:"前一页",next_text:"下一页",current_page:t}):i.text("")},pagination2:function(e,t,n){!Ls.isObject(e)||e instanceof jQuery||(t=e,e="");var i=$.extend(!0,{total:0,isTotal:!1,pageCount:0,pageIndex:0,callback:$.noop},t),e=e||$("#pagination");i.pageCount>0?e.pagination(i.pageCount,{total:i.total,isTotal:i.isTotal,num_edge_entries:1,num_display_entries:4,callback:i.callback,items_per_page:1,prev_text:"前一页",next_text:"下一页",current_page:i.pageIndex}):e.text("")},pagination3:function(e,t,n){var i=$.extend(!0,{total:0,isTotal:!1,isJump:!0,pageCount:20,currPage:1,pageNumber:5,callback:t},n);return new pagination(e,i)},uploadFile:function(e,t){Ls.openWin("/fileCenter/uploadPage","530px","360px",{id:"uploadFile_swf",title:t&&t.title||"上传",upload_settings:t,close:function(t){if(t&&t.length>0)try{filePath=new Function("return ["+t.join()+"]")(),e.call(this,filePath)}catch(n){alert("返回数据类型无法解析！")}}})},uploadFileMT:function(e,t){Ls.openWin("/articleNews/thumbUpload","650px","410px",{id:"uploadFile_mt",title:"上传",upload_settings:t,close:function(t,n){var i=n.filePath;if(i&&i.length>0)try{i=new Function("return ["+i.join()+"]")(),e.call(this,i)}catch(a){alert("返回数据类型无法解析！")}}})},getWin:function(){var e={win:{},api:{},list:{},dialog:{}};try{return e.win=art.dialog.opener,e.api=art.dialog.open.api,e.list=art.dialog.list,e.dialog=art.dialog,e}catch(t){try{if(_win.dialogArguments&&_win.dialogArguments.opener)return e.win=_win.dialogArguments,e.win;if(_win.opener)return e._win}catch(t){}}}(),winClose:function(e){var t=Ls.getWin;try{if(e)if("all"==e){var n=t.list;for(var i in n)n[i].close()}else t.list[e].close();else t.dialog.close()}catch(a){}},assignVM:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(!i||"object"==typeof i)for(var n in e)e.hasOwnProperty(n)&&i.hasOwnProperty(n)&&(e[n]=i[n])}return e},toJSON:function(e){var t=e||{},n=[],i=JSON.stringify(t,function(e,t){if("object"==typeof t){if(!n.indexOf(t))return"__cycle__"+typeof t+"["+e+"]";n.push(t)}return t},4);return JSON.parse(i)},initFORM:function(e,t){var n,e=e.replace(/(#|\.)/g,"");return n=$("#"+e).serializeObject()||{},n.$id=e,$.extend(!0,n,t)},treeDataFilter:function(e,t){if(!e)return!1;switch(t){case this.treeDataType.SITE:for(var n=0,i=e.length;n<i;n++){var a=e[n];"CMS_Site"==a.type||"SUB_Site"==a.type?a.icon=GLOBAL_CONTEXTPATH+"/assets/images/"+a.type+".png":"workGuide"!=a.columnTypeCode&&"sceneService"!=a.columnTypeCode||a.isParent?a.icon=GLOBAL_CONTEXTPATH+"/assets/images/"+a.columnTypeCode+".png":a.icon=GLOBAL_CONTEXTPATH+"/assets/images/"+a.columnTypeCode+"2.png","redirect"==a.columnTypeCode?a.tips="跳转地址："+a.transUrl:a.tips="ID:"+a.indicatorId}break;case this.treeDataType.UNIT:case this.treeDataType.USER:for(var n=0,i=e.length;n<i;n++){var a=e[n];a.icon=GLOBAL_CONTEXTPATH+"/assets/images/"+(a.type||a.nodeType||"").toLowerCase()+".gif",a.tips="单位ID："+a.id}break;case this.treeDataType.GUIDE_ORGAN:for(var n=0,i=e.length;n<i;n++){var a=e[n];a.icon=GLOBAL_CONTEXTPATH+"/assets/images/organ.gif"}break;case this.treeDataType.LABEL:for(var n=0,i=e.length;n<i;n++){var a=e[n];a.tips="标签ID："+a.id+"\n标签描述："+a.description,a.pId>0&&(a.icon=GLOBAL_CONTEXTPATH+"/assets/images/label01.png"),a.isParent=1==a.isParent}break;case this.treeDataType.PUBLIC_CONTENT:for(var n=0,i=e.length;n<i;n++){var a=e[n];a.data?"Organ"==a.type?a.tips="单位ID："+a.organId:a.tips="目录ID："+a.data.catId:a.tips="目录ID："+a.id}break;case this.treeDataType.ROLE:for(var r="",n=0,i=e.length;n<i;n++){var a=e[n];r="super_admin"==a.code||"site_admin"==a.code?a.code:"common_admin",a.icon=GLOBAL_CONTEXTPATH+"/assets/images/"+r+".gif"}break;case this.treeDataType.MENU:this.ztreeChildren(e);break;case this.treeDataType.ZTREE:}return e},treeDataType:function(){return{SITE:"SITE",UNIT:"UNIT",USER:"USER",ROLE:"ROLE",TPL:"TPL",MENU:"MENU",LABEL:"LABEL",CATALOG:"CATALOG",GUIDE_ORGAN:"GUIDE_ORGAN",PUBLIC_CONTENT:"PUBLIC_CONTENT",SUBMITTED:"SUBMITTED",NET_WORK:"NET_WORK",ZTREE:"ZTREE"}}(),ztreeChildren:function(e){if(!e)return!1;for(var t=0,n=e.length;t<n;t++){var i=e[t];i.tips="菜单ID："+i.id,i.children&&Ls.ztreeChildren(i.children)}},mini_datagrid_height:function(e,t,n){var i=$("#page_content").height()||$(window).height(),a=0;if(n)a=i-(t?t:0);else{var r=$(".table-toolbar").height();a=i-r-(t?t:25)}return e&&e.setHeight(a),e},mini_datagrid_attr:function(e,t){var n=$.extend(!0,{width:0,heigth:0},t),i=$("#content_body"),a=$("#page_content"),r=$(".table-toolbar"),o=(a.width(),a.height(),i.width());i.height(),r.width(),r.height();return i.length>0&&0==n.width&&(n.width=o-40),e&&e.setWidth(n.width),e},toUnixTime:function(){var e,t,n,i,a,r,o,s=arguments[0]||0;return e=s?new Date(1e3*s):new Date,t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate(),a=e.getHours(),r=e.getMinutes(),o=e.getSeconds(),t+"-"+(n<10?"0"+n:n)+"-"+(i<10?"0"+i:i)+" "+(a<10?"0"+a:a)+":"+(r<10?"0"+r:r)+":"+(o<10?"0"+o:o)},dropDown:function(e){var t=$.Deferred();return t.reject(event,treeId,treeNode,msg),t.resolve(event,treeId,treeNode,msg),t.promise()},checkWordTypes:function(e){var t=[];return 1==e.isEasyWord&&t.push(1),1==e.isSensitiveWord&&t.push(2),t},checkIsWords:function(e){return Ls.ajax({data:{content:e.content,types:e.types},url:"/content/isCheck"})},checkWordOpen:function(e){try{var t=checkContent()}catch(n){return alert("当前页面未找到 checkContent() 方法"),!1}var i=Ls.isString(t)?function(){var e=$.Deferred(),n={data:{checkContent:t}};return e.resolve(n),e.promise()}():t;i.done(function(t){content_mgr.config={content:t.data.checkContent,types:Ls.checkWordTypes(e)},Ls.checkIsWords(content_mgr.config).done(function(e){1==e.status&&(1==e.data?Ls.openWin("/content/checkPage","600px","460px",{id:"checkAll",title:"内容检测"}):saveData())})})},checkWords:function(e){return Ls.ajaxGet({data:{columnId:e?e:content_mgr.indicatorId},url:"/content/getModelConfig"}).done(function(e){if(1==e.status){var t=e.data;1!=t.isSensitiveWord&&1!=t.isEasyWord||Ls.checkWordOpen(t)}else Ls.tipsErr("内容模型获取错误")})},dropDowns:function(e,t){var n=this,i={},a=$("#"+e),r=(a.offset(),$(".input-group-btn",a),$.extend(!0,{id:"dropdowns",css:{height:"300px",outline:0,position:"absolute",display:"none",overflow:"hidden",border:"1px solid #b3b3b3","z-index":10,"background-color":"#F6FAFD",top:a.outerHeight()-1,left:0,width:a.outerWidth()},ajax:"",html:$.noop,show:function(){i.show(0)},hide:function(){i.hide(0)},click:function(e){var t=$(e.target);a.find("input:first").val(t.html()),r.hide()}},t));i=$("#"+r.id),0==i.length?(i=$("<div/>").css(r.css).attr({id:r.id,tabindex:"-1"}).append('<ul class="dialogList"></ul>'),a.find("input:first").before(i),Ls.isObject(r.ajax)?Ls.ajax(r.ajax).done(function(e){r.html=r.html.call(n,a,e),i.find(".dialogList").html(r.html),r.show()}):i.find(".dialogList").html(r.html),r.show()):r.show(),i.off().on("click","a",r.click),$(document).off("click.ls.dropdown").on("click.ls.dropdown",function(e){!$.contains(a[0],e.target)&&i.hide(0,r.hide)})},dropDowns2:function(e,t){var n={},i=$("#"+e),a=(i.offset(),$(".input-group-btn",i),$.extend(!0,{id:"dropdowns2",async:{enable:!0,type:"GET",dataType:"JSON",url:"",dataFilter:function(e,t,n){var i=Ls.treeDataFilter(n.data,Ls.treeDataType.ZTREE);return i}},nodes:"",show:function(){n.slideDown(0)},hide:function(){n.slideUp(0)},css:{height:"250px",outline:0,position:"absolute",display:"none",overflow:"auto",border:"1px solid #b3b3b3","z-index":10,"background-color":"#F6FAFD",top:function(e,t){return i.outerHeight()-1},left:0,width:i.outerWidth()}},t));if($(document).off("click.ls.dropdown2").on("click.ls.dropdown2",function(e){!$.contains(i[0],e.target)&&n.slideUp(0,a.hide)}),n=$("#"+a.id),0==n.length){n=$("<div/>").css(a.css).attr({id:a.id,tabindex:"-1"}).append('<ul id="'+a.id+'_ztree" class="ztree dialogList2"></ul>'),i.find("input:first").before(n);var r=$("#"+a.id+"_ztree");return a.show(),Ls.isEmpty(a.nodes)?$.fn.zTree.init(r,a):$.fn.zTree.init(r,a,a.nodes)}a.show()},copyRefer:function(e,t,n){n||(n=1);var i=1==n?"复制":"引用",a="/content/toCopyRefer?contentId="+e+"&source="+t+"&type="+n;Ls.openWin(a,"400px","400px",{id:"copy_refer_page",title:i+"到",ok:function(){iframe=this.iframe.contentWindow,data=iframe.ok(),data.contentId=e.toString(),data.type=n,Ls.ajax({url:"/content/copyRefer",data:data}).done(function(e){e.status?Ls.tipsOk(i+"成功!"):Ls.tipsErr(e.desc)})}})},selectUnitUser:function(e,t){var n="/common/selectUnitUser",i={id:"openSelectUnitUser",winType:1,title:"选择",width:790,height:516,max:!1,resize:!1,scope:0,organIds:"",scopeType:"multi",isOrganRoot:0,isSimple:0,isSelectParent:1,isContainsExternal:!1,isOneSelf:!1,close:e},a=$.extend({},i,t);return n=n+"?isOrganRoot="+a.isOrganRoot+"&organIds="+a.organIds+"&scope="+a.scope+"&scopeType="+a.scopeType+"&isSimple="+a.isSimple+"&isSelectParent="+a.isSelectParent+"&isContainsExternal="+a.isContainsExternal+"&isOneSelf="+a.isOneSelf,Ls.openWin(n,a)},selectColumn:function(e,t){var n="/common/selectColumn2",i={id:"openSelectColumn",winType:1,title:"选择",width:790,height:516,max:!1,resize:!1,scope:0,organIds:"",scopeType:"multi",isSimple:0,close:e},a=$.extend({},i,t);return n=n+"?columnId="+a.organIds+"&scope="+a.scope+"&scopeType="+a.scopeType+"&isSimple="+a.isSimple,Ls.openWin(n,a)},getResource:function(e,t,n){var i={async:{url:"/content/newsSource",dataFilter:function(e,t,n){var i=n.data;return i.unshift({id:-1,pid:null,key:GLOBAL_PERSON.unitName,isParent:!1}),i}},data:{key:{title:"key",name:"key"},data:{simpleData:{enable:!0,idKey:"id",pIdKey:"pid"}}},callback:{onClick:function(e,n,i){t&&t.call(this,e,n,i)}}};return Ls.dropDowns2(e,$.extend({},i,n))}}),String.prototype.replaceAll=function(e,t,n){return RegExp.prototype.isPrototypeOf(e)?this.replace(e,t):this.replace(new RegExp(e,n?"gi":"g"),t)},String.prototype.setUrlParam=function(e,t){var n=Ls.url.parseQuery(this);void 0===t?delete n[e]:n[e]=encodeURIComponent(t);var i="?"+Ls.url.stringify(n);return this.split("?")[0]+i};try{avalon.filters.formatSeconds=function(e){return ret=Ls.formatSeconds(e),ret}}catch(e){}try{TT.injectTplVal(),template.helper("Ls",TT)}catch(e){}$(document).ajaxStart(function(){var e=$("#ajax_tips");0==e.length&&$('<div id="ajax_tips">正在处理中，请稍后...</div>').appendTo("body"),e.show(),$(".btn-save-release,.btn-save").prop("disabled",!0)}).ajaxComplete(function(e,t,n){try{if("json"==n.dataType||"jsonp"==n.dataType){var i=$.parseJSON(t.responseText);"-9"==i.data&&top.location.replace(Ls.getLocation.url+GLOBAL_CONTEXTPATH+"/login")}}catch(e){}$("#ajax_tips").hide(),$(".btn-save-release,.btn-save").prop("disabled",!1)}),TT.config={debug:!0};var cacheJS=new cache(30),os={};if(os.www=function(){return{init:function(){var e=this;e.tabs(),e.scroll(),e.myLinks(),e.myFloat(),e.myCouplet(),e.myMarquee()},tabs:function(){function e(e){return this.each(function(){var n=$(this),i=n.data("ls.tab");i||n.data("ls.tab",i=new t(this)),"string"==typeof e&&i[e]()})}var t=function(e){this.element=$(e)};t.prototype.show=function(){var e=this.element,t=e.closest("ul"),n=e.data("target");if(n||(n=e.data("id")||e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")||e.parent("li").hasClass("reload")){var i=t.find(".active:last a"),a=$.Event("hide.ls.tab",{relatedTarget:e[0]}),r=$.Event("show.ls.tab",{relatedTarget:i[0]});if(i.trigger(a),e.trigger(r),!r.isDefaultPrevented()&&!a.isDefaultPrevented()){var o=$(n);this.activate(e.closest("li"),t),this.activate(o,o.parent(),function(){i.trigger({type:"hidden.ls.tab",relatedTarget:e[0]}),e.trigger({type:"shown.ls.tab",relatedTarget:i[0]})})}}},t.prototype.activate=function(e,t,n){var i=t.find("> .active");i.removeClass("active");var a=e.find('[data-toggle="mouse"]'),r=a.data("url"),o=a.data("more"),s=a.attr("href");Ls.isEmpty(o)||$(o).attr("href",r?r:s.replace(/(#[^\s]*$)/,"")),e.addClass("active"),n&&n()};var n=function(t){t.preventDefault(),e.call($(this),"show")};return $(document).on("click.ls.tab",'[data-toggle="tab"]',n).on("mouseover.ls.tab",'[data-toggle="mouse"]',{type:"mouse"},n),this},scroll:function(){var e=$(".ls-scroll,.j-scroll");if(e.length>0){var t={};e.each(function(e,n){var i=$(n),a=TT.UUID(),r=TT.parseOptions(i.data("setting")),o=i.find(".scroll-body"),s=o.find("li"),c=s.outerWidth(!0),l=s.width(),u=s.length,p=$.extend(!0,{speed:3,autoScroll:!0},r);o.width(u*(l+l));var d=function(){o.find("li").eq(0).appendTo(o),o.css({"margin-left":+c}).stop(!0,!0).animate({"margin-left":0})},f=function(){o.find("li:last").prependTo(o),o.css({"margin-left":-c}).stop(!0,!0).animate({"margin-left":0})};if(i.off(".scroll"),i.on("click.scroll.next",".next",d),i.on("click.scroll.prev",".prev",f),p.autoScroll){var h=i.attr("data-interval");clearInterval(h),t[a]=setInterval(function(){d()},1e3*p.speed),i.on("mouseenter.scroll",function(){clearInterval(t[a])}).on("mouseleave.scroll",function(){t[a]=setInterval(function(){d()},1e3*p.speed),i.attr("data-interval",t[a])}),i.attr("data-interval",t[a])}})}return this},myLinks:function(){var e=$(".myLinks,.j-links");return e.length>0&&e.off(".links").on("click.links","dt",function(t){var n=$(this),i=n.next(),a=Ls.parseOptions(n.data("setting")),r=$.extend(!0,{showAnimate:"slideDown",hideAnimate:"slideUp",speed:200,show:function(e){e&&e[this.showAnimate](this.speed)},hide:function(e){e&&e[this.hideAnimate](this.speed)}},a);return!n.hasClass("active")&&(r.show(i),i.find("a:first").focus().one("blur.links",function(){var t=e.find(".active").removeClass("active").next();setTimeout(function(){r.hide(t)},150)}),void n.addClass("active"))}),this},myFloat:function(){function e(e){n.IsInitialized||(n.Resize(),n.IsInitialized=!0);var t=e.outerWidth(),i=e.outerHeight(),a=this,r=n.moveWidth-t,o=n.moveHeight-i,s=r*Math.random(),c=o*Math.random(),l=(Math.random()+1)*Math.PI/6,u=Math.sin(l),p=Math.cos(l),d=Math.random()<.5?1:-1,f=Math.random()<.5?1:-1,h=1;a.setLocation=function(e,t){return s=e,c=t,a},a.setDirection=function(e,t){return d=e,f=t,a},a.method=function(){e.css({position:"absolute",top:c+n.scrollY,left:s+n.scrollX}),l=(Math.random()+1)*Math.PI/6,r=n.moveWidth-t,o=n.moveHeight-i,s+=h*u*d,s<0&&(d=1,s=0,u=Math.sin(l),p=Math.cos(l)),s>r&&(d=-1,s=r,u=Math.sin(l),p=Math.cos(l)),c+=h*p*f,c<0&&(f=1,c=0,u=Math.sin(l),p=Math.cos(l)),c>o&&(f=-1,c=o,u=Math.sin(l),p=Math.cos(l))},a.Run=function(t,i){var r={delay:25},o=$.extend(r,t),i=TT.UUID();n.interval[i]=setInterval(a.method,o.delay),e.on("mouseenter.float",function(){clearInterval(n.interval[i])}).on("mouseleave.float",function(){n.interval[i]=setInterval(a.method,o.delay)}).data("UUID",i)}}var t=$(".myFloat,.j-float");if(t.length>0){var n={IsInitialized:!1,scrollX:0,scrollY:0,moveWidth:0,moveHeight:0,interval:{},getPageSize:function(){var e=$(window).width(),t=$(window).height(),n=$(document).width(),i=$(document).height();return new Array(n,i,e,t)},getPageScroll:function(){var e=$(document).scrollLeft(),t=$(document).scrollTop();return new Array(e,t)},Resize:function(){var e=n.getPageSize();n.moveWidth=e[2],n.moveHeight=e[3],n.Scroll()},Scroll:function(){var e=n.getPageScroll();n.scrollX=e[0],n.scrollY=e[1]}};t.each(function(t,n){var i=$(n),a=TT.parseOptions(i.data("setting"));i.find("li").length>0?(new e(i).Run(a),i.fadeIn(500)):i.remove(),i.removeAttr("data-setting")}),$(document).off(".float").on("resize.float",function(){n.Resize()}).on("scroll.float",function(){n.Scroll()}).on("click.float",".float-close",function(){var e=$(this).closest(".myFloat"),t=e.data("UUID");e.remove(),clearInterval(n.interval[t])})}return this},myCouplet:function(){var e=$(".myCouplet,.j-couplet");return e.length>0&&e.each(function(e,t){var n=$(t);if(n.find("li").length>0){var i=TT.parseOptions(n.data("setting")),a=$.extend(!0,{isAnimate:!1,topDistance:200,screenWidth:1024},i),r=screen.width;r>a.screenWidth&&n.show(),(Ls.isIE6||a.isAnimate)&&$(window).scroll(function(){var e=$(window).scrollTop();n.stop().animate({top:e+a.topDistance})}),n.off(".couplet").on("click.couplet",".couplet-close",function(){return n.remove(),!1})}else n.remove();n.removeAttr("data-setting").data("isInit",!0)}),this},myMarquee:function(e,t){var n=$(e?e:".myMarquee,.j-marquee");if(n.length>0){var i=function(e,t,n){n.offsetWidth-e.scrollLeft<=0?e.scrollLeft-=t.offsetWidth:e.scrollLeft++},a={};using("MSClass",function(){n.each(function(e,n){var r=$(n),o=Ls.parseOptions(r.data("setting")),s=$.extend(!0,{simple:!1,speed:45},o);if(s.simple){var c=Ls.UUID(),l=r.find(".marquee1"),u=r.find(".marquee2");u[0].innerHTML=l[0].innerHTML,a[c]=setInterval(function(){i(r[0],l[0],u[0])},s.speed),r.off(".marquee").on("mouseenter.marquee",function(e){clearInterval(a[c])}).on("mouseleave.marquee",function(e){a[c]=setInterval(function(){i(r[0],l[0],u[0])},s.speed)})}else r.data("init")&&!t||(new Marquee(o),r.removeAttr("data-setting").data("init",!0))})})}return this}}}(),$(function(){os.www.init()}),TT.www=os.www,_win.Ls=TT,TT.browser.isIE8OrLower)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}}(jQuery,window);